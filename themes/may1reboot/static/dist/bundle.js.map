{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/gsap/CSSPlugin.js","webpack:///./node_modules/gsap/gsap-core.js","webpack:///./node_modules/gsap/index.js","webpack:///./node_modules/three-orbit-controls/index.js","webpack:///./node_modules/three/build/three.module.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///./node_modules/three/examples/jsm/postprocessing/EffectComposer.js","webpack:///./node_modules/three/examples/jsm/postprocessing/MaskPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/Pass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/RenderPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/SavePass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/ShaderPass.js","webpack:///./node_modules/three/examples/jsm/shaders/BlendShader.js","webpack:///./node_modules/three/examples/jsm/shaders/CopyShader.js","webpack:///./static/js/components/Animation.js","webpack:///./static/js/components/Camera.js","webpack:///./static/js/components/CameraPathLine.js","webpack:///./static/js/components/Controls.js","webpack:///./static/js/components/Floor.js","webpack:///./static/js/components/HouseLights.js","webpack:///./static/js/components/Loading.js","webpack:///./static/js/components/MainLight.js","webpack:///./static/js/components/MainModelLoad.js","webpack:///./static/js/components/PointsLine.js","webpack:///./static/js/components/PresentModelLoad.js","webpack:///./static/js/components/RandomBoxes.js","webpack:///./static/js/components/Renderer.js","webpack:///./static/js/components/Scene.js","webpack:///./static/js/components/Sparkles.js","webpack:///./static/js/components/StartEndSphere.js","webpack:///./static/js/index.js","webpack:///./static/scss/style.scss"],"names":["isObject","require","module","exports","it","TypeError","Object","defineProperty","get","a","document","is","createElement","exec","e","global","window","Math","self","Function","__g","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","P","Attributes","value","S","fn","val","toString","call","valueOf","FProto","prototype","nameRE","NAME","configurable","match","_win","_doc","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_windowExists","_transformProps","_RAD2DEG","PI","_DEG2RAD","_atan2","atan2","_bigNum","_capsExp","_numWithUnitExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","scale","alpha","_renderCSSProp","ratio","data","set","t","p","s","c","u","_renderPropWithEnd","_renderCSSPropWithBeginning","b","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","target","property","style","_setterCSSProp","setProperty","_setterTransform","_gsap","_setterScale","scaleX","scaleY","_setterScaleWithRender","cache","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","type","ns","createElementNS","replace","_getComputedProperty","skipPrefixFallback","cs","getComputedStyle","getPropertyValue","toLowerCase","_checkPropPrefix","_prefixes","split","element","i","charAt","toUpperCase","substr","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","getAttribute","oldParent","parentNode","oldSibling","nextSibling","oldCSS","bbox","appendChild","display","getBBox","_gsapBBox","insertBefore","removeChild","_getAttributeFallbacks","attributesArray","length","hasAttribute","_getBBox","bounds","error","width","x","y","height","_isSVG","getCTM","_removeProperty","removeProperty","removeAttribute","_addNonTweeningPT","plugin","beginning","end","onlySetAtEnd","pt","PropTween","_pt","_props","push","_nonConvertibleUnits","deg","rad","turn","_convertToUnit","unit","curValue","parseFloat","curUnit","trim","horizontal","test","isRootSVG","tagName","measureProperty","amount","toPixels","px","parent","isSVG","indexOf","_round","body","time","_ticker","position","_getCache","_get","uncache","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_getProperty","_tweenComplexCSSString","prop","start","_renderComplexString","index","matchIndex","result","startValues","startNum","color","startValue","endValue","endNum","chunk","endUnit","startUnit","relative","endValues","_colorStringFilter","substring","lastIndex","_config","units","_next","m","round","r","_relExp","_keywordToPercent","top","bottom","left","right","center","_convertKeywordsToPercentages","join","_renderClearProps","tween","_time","_dur","props","clearTransforms","clearProps","pr","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_numExp","map","_getMatrix","force2D","matrix","temp","addedToDOM","transform","baseVal","consolidate","d","offsetParent","_applySVGOrigin","origin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","determinant","GSCache","invertedScaleX","z","rotation","rotationX","rotationY","skewX","skewY","perspective","angle","cos","sin","a12","a22","t1","t2","t3","a13","a23","a33","a42","a43","a32","sqrt","abs","forceCSS","setAttribute","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","force3D","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","getUnit","_zeroDeg","_zeroPx","_endParenthesis","_ref","transforms","use3D","_ref2","a11","a21","tan","_addRotationalPropTween","cap","isString","_isString","change","finalValue","direction","_addRawTransformPTs","startCache","exclude","endCache","_forEachName","name","l","side","vars","arguments","forEach","init","CSSPlugin","register","targetTest","nodeType","targets","specialProp","isTransformRelated","transformPropTween","hasPriority","_plugins","_checkPlugin","_replaceRandom","add","smoothOrigin","dep","autoRound","_missingPlugin","_sortPropTweensByPriority","aliases","getSetter","_isUndefined","_getSetter","gsap","utils","checkPrefix","positionAndScale","others","all","registerPlugin","_assertThisInitialized","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","autoSleep","nullTargetWarn","lineHeight","_defaults","duration","overwrite","delay","_tinyNum","_2PI","_HALF_PI","_gsID","_sqrt","_cos","_sin","_isFunction","_isNumber","_isObject","_isNotFalse","_isFuncOrString","_isArray","Array","isArray","_strictNumExp","_complexStringNumExp","_parenthesesExp","_delimitedValueExp","_globalTimeline","_coreInitted","_globals","_installScope","_coreReady","_install","scope","_merge","console","warn","_warn","message","suppress","_addGlobal","obj","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","harnessPlugin","harness","splice","toArray","currentValue","names","func","_arrayContainsAny","toSearch","toFind","_parseVars","params","isLegacy","varsIndex","irVars","defaults","inherit","immediateRender","runBackwards","startAt","_lazyRender","slice","_lazy","render","_lazySafeRender","animation","suppressEvents","force","_numericIfPossible","n","_passThrough","_setDefaults","_setKeyframeDefaults","base","toMerge","_mergeDeep","_copyExcluding","excluding","copy","_inheritDefaults","keyframes","_arraysMatch","a1","a2","_addLinkedListItem","child","firstProp","lastProp","sortBy","prev","_prev","_removeLinkedListItem","next","_dp","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","remove","_act","_uncache","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","_parentToChildTotalTime","parentTime","_start","_tDur","_addToTimeline","timeline","_delay","_end","timeScale","_sort","_recent","_initted","curTime","rawTime","_clamp","tl","totalTime","_attemptInitTween","_initTween","lazy","frame","_renderZeroDurationTween","prevRatio","_zTime","repeatDelay","iteration","prevIteration","repeatRefresh","invalidate","_from","_callback","_startAt","_onUpdate","_prom","_findNextPauseTween","prevTime","_first","_last","_onUpdateTotalDuration","Timeline","repeat","_zeroPosition","endTime","_parsePosition","useBuildFrom","labels","recent","clippedDuration","offset","isNaN","_conditionalReturn","min","max","clamp","v","_slice","_isArrayLike","nonEmpty","_flatten","ar","leaveStrings","accumulator","_accumulator","apply","_wake","querySelectorAll","shuffle","sort","random","distribute","each","ease","_parseEase","from","isDecimal","ratios","axis","ratioX","ratioY","edges","distances","originX","originY","j","wrapAt","grid","getBoundingClientRect","_invertEase","_roundModifier","pow","raw","snap","snapTo","radius","is2D","values","increment","closest","dx","dy","roundingIncrement","returnFunction","pipe","_len","functions","_key","reduce","unitize","normalize","mapRange","_wrapArray","wrapper","wrap","range","wrapYoyo","total","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","progress","mutate","master","interpolators","il","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","distance","label","executeLazyFirst","callback","callbackScope","_interrupt","_quickTween","_createPlugin","config","isFunc","Plugin","instanceDefaults","kill","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","_hue","h","m1","m2","splitColor","toHSL","g","wasHSL","parseInt","Number","_formatColors","colors","_colorExp","charIndex","parsed","RegExp","_hslExp","combined","_tickerActive","_getTime","Date","now","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_id","_req","_raf","_self","_tick","elapsed","manual","overlap","dispatch","tick","wake","gsapVersions","version","GreenSockGlobals","requestAnimationFrame","sleep","setTimeout","cancelAnimationFrame","clearTimeout","lagSmoothing","threshold","adjustedLag","fps","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","key","parsedVal","lastIndexOf","_configEaseFromString","_CE","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","_easeInOutFromOut","_configElastic","amplitude","period","p1","p2","p3","asin","_configBack","overshoot","power","Linear","easeNone","none","n1","n2","n3","SteppedEase","steps","immediateStart","id","Animation","_yoyo","yoyo","yoyoEase","reversed","paused","_proto","isSetter","repeatCycles","isInfinite","_totalTime","smoothChildTiming","_pTime","totalProgress","_pauseTS","isPaused","startTime","includeRepeats","wrapRepeats","seek","restart","includeDelay","play","reverse","pause","atTime","resume","ts","isActive","hasStarted","eventCallback","then","onFulfilled","Promise","resolve","_resolve","_then","_Animation","_this","sortChildren","_proto2","to","Tween","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","dur","crossingStart","prevPaused","pauseTween","prevStart","isYoyo","_lock","rewinding","doesWrap","getChildren","_hasPause","_forcing","onUpdate","adjustedTime","_this2","addLabel","nested","tweens","timelines","ignoreBeforeTime","getById","animations","removeLabel","killTweensOf","_totalTime2","addPause","removePause","onlyActive","getTweensOf","_overwritingTween","parsedTargets","children","_targets","tweenTo","onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","clear","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","startNums","hasRandom","fp","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","ptLookup","priority","_ptLookup","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","gsData","harnessVars","_ease","_yEase","_op","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","_this3","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","onRepeat","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","hasNonDependentRemaining","op","_setterWithModifier","mSet","mt","pt2","first","last","renderer","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","_len2","args","_key2","getProperty","getter","format","quickSetter","setters","isTweening","registerEffect","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","install","effects","ticker","globalTimeline","core","globals","getCache","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","gsapWithCSS","TweenMaxWithCSS","THREE","OrbitControls","object","domElement","undefined","enabled","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","PAN","target0","clone","position0","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","panOffset","setFromSpherical","lookAt","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","pan","deltaX","deltaY","PerspectiveCamera","targetDistance","fov","clientHeight","OrthographicCamera","clientWidth","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","event","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","keyCode","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDolly","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","preventDefault","button","addEventListener","stopPropagation","EventDispatcher","defineProperties","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","EPSILON","isInteger","isFinite","floor","sign","assign","output","source","nextKey","hasOwnProperty","REVISION","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","listener","listeners","hasEventListener","listenerArray","array","_lut","MathUtils","DEG2RAD","RAD2DEG","generateUUID","d0","d1","d2","d3","uuid","euclideanModulo","mapLinear","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","order","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","isVector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","w","addVectors","addScalar","addScaledVector","subScalar","multiply","divide","divideScalar","applyMatrix3","elements","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","cross","lengthSq","manhattanLength","distanceTo","manhattanDistanceTo","setLength","lerpVectors","v1","v2","equals","fromArray","fromBufferAttribute","attribute","getX","getY","rotateAround","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a31","b11","b12","b13","b21","b22","b23","b31","b32","b33","getInverse","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","sx","sy","cx","cy","rotate","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","images","url","transformUv","uv","Vector4","isVector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","_x","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","_onChangeCallback","isQuaternion","setFromEuler","euler","isEuler","c1","c3","s1","s3","setFromAxisAngle","halfAngle","setFromRotationMatrix","trace","vFrom","vTo","angleTo","rotateTowards","step","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","_vector","_quaternion","isVector3","multiplyVectors","applyEuler","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","reflect","normal","dz","setFromSphericalCoords","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sz","setFromMatrix3Column","_v1","_m1","Matrix4","_zero","_one","n14","n24","n34","n41","n42","n43","n44","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","eye","a14","a24","a34","a41","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","_order","DefaultOrder","RotationOrders","setFromQuaternion","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","DefaultUp","onRotationChange","onQuaternionChange","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","vector","worldToLocal","updateWorldMatrix","isCamera","isLight","attach","getObjectById","getObjectByProperty","getObjectByName","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","isInstancedMesh","count","instanceMatrix","serialize","library","isMesh","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","recursive","parse","Scene","background","environment","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isScene","_points","_vector$1","_box","Box3","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","boundingBox","computeBoundingBox","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","axes","satForAxes","distanceToPoint","clampedPoint","getBoundingSphere","intersect","union","v0","extents","p0","_box$1","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","delta","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","Color","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","isColor","setHex","setStyle","hex","setHSL","handleAlpha","string","components","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","blending","flatShading","vertexTangents","opacity","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","setValues","newValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatNormalMap","clearcoatNormalScale","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$3","BufferAttribute","itemSize","normalized","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXYZ","setXY","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","computeGroups","group","faces","face","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","jl","computeFaceNormals","computeVertexNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","fvA","fvB","fvC","isMultiMaterial","fl","faceMaterial","checkIntersection","uvs_f","morphInfluences","influence","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","k","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","materialIndexSort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","hash","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Camera","aspect","focus","view","filmGauge","filmOffset","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLCubeRenderTarget","scene","currentRenderTarget","getRenderTarget","setRenderTarget","stencil","dummy","isWebGLCubeRenderTarget","fromEquirectangularTexture","shader","tEquirect","DataTexture","isDataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","UniformsLib","common","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","physical","transparency","WebGLBackground","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","xr","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","extension","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateList","CubeTexture","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","loopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","numMultiviewViews","isRawShaderMaterial","shaderName","instancing","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getShaderObject","shaderobject","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","nClipPlanes","nClipIntersection","isMeshStandardMaterial","isSkinnedMesh","isWebGLMultiviewRenderTarget","numViews","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","frawbuffers","extensionDrawbuffers","drawbuffers","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","onSceneDispose","cameras","list","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","has","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglColorTexture","__webglDepthStencilTexture","__webglViewFramebuffers","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isMultiview","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","ext","colorTexture","framebufferTextureMultiviewOVR","depthStencilTexture","viewFramebuffers","framebufferTextureLayer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","UNSIGNED_INT_24_8_WEBGL","WebGLMultiviewRenderTarget","setNumViews","WebGLMultiview","DEFAULT_NUMVIEWS","mat3","mat4","cameraArray","renderSize","available","maxNumViews","isAvailable","getContextAttributes","antialias","MAX_VIEWS_OVR","getCameraArray","isArrayCamera","updateCameraProjectionMatricesUniform","updateCameraViewMatricesUniform","updateObjectMatricesUniforms","isMultiviewCompatible","resizeRenderTarget","getDrawingBufferSize","attachCamera","detachCamera","flush","srcRenderTarget","srcFramebuffers","viewWidth","viewHeight","ArrayCamera","Group","isGroup","WebXRManager","referenceSpace","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","targetRay","getControllerGrip","grip","onSessionEvent","inputSource","onSessionEnd","setFramebuffer","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","layerInit","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","inputPose","gripPose","getPose","targetRaySpace","gripSpace","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","sortObjects","toneMappingExposure","toneMappingWhitePoint","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","multiview","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","setDrawingBufferSize","pixelRatio","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","tempScene","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","maxInstancedCount","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","compiled","initMaterial","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","camera2","materialProperties","lightsStateVersion","programCacheKey","programChange","numSupportedMorphTargets","numSupportedMorphNormals","needsLights","materialNeedsLights","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshToonMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","uv2ScaleMap","isFog","density","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","InterleavedBuffer","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","levels","addLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","_offsetMatrix","_identityMatrix","Skeleton","boneInverses","bone","isBone","getBoneByName","Bone","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getMatrixAt","raycastTimes","instanceId","setMatrixAt","linecap","linejoin","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","o","ol","edge","edge1","edge2","ParametricGeometry","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","py","intersectsPolygon","middleInside","q1","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","concat","scalePt2","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","inverseSegments","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","clip","tracks","track","valueSize","getValueSize","minStartTime","shift","resetDuration","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","evaluate","pp","validate_interval","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","timeOffset","nKeys","validate","valid","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","getTrackTypeForValueTypeName","typeName","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","load","setCrossOrigin","setPath","setResourcePath","loading","FileLoader","cached","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setResponseType","setWithCredentials","setMimeType","AnimationLoader","CompressedTextureLoader","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","onImageLoad","onImageError","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","PointLightShadow","_cubeDirections","_cubeUps","PointLight","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","geometryLoader","LegacyJSONLoader","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","addScale","getIrradianceAt","getBasisAt","shBasis","LightProbe","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","performance","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_pausedAt","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","_RESERVED_CHARS_RE","_reservedRe","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_effectiveTimeScale","_effectiveWeight","repetitions","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","other","setFromCartesianCoords","Cylindrical","_vector$7","Box2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","PointLightHelper","sphereSize","_vector$a","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$5","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_lodPlanes","_sizeLods","_sigmas","_createPlanes","_pingPongRenderTarget","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_compileMaterial","fromScene","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","fromCubemap","cubemap","_textureToCubeUV","compileCubemapShader","_getCubemapShader","compileEquirectangularShader","_getEquirectShader","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","_createRenderTarget","outputTarget","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","_setViewport","tmpScene","poleAxis","lodIn","lodOut","_halfBlur","targetIn","targetOut","sigmaRadians","STANDARD_DEVIATIONS","blurScene","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","exp","outputSize","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","GLTFLoader","dracoLoader","ddsLoader","_onError","gltf","setDRACOLoader","setDDSLoader","content","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","asset","extensionsUsed","extensionName","extensionsRequired","KHR_LIGHTS_PUNCTUAL","GLTFLightsExtension","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","GLTFParser","GLTFRegistry","removeAll","lightDefs","loadLight","lightIndex","lightDef","lightNode","innerConeAngle","outerConeAngle","getMaterialType","extendParams","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","getUint32","chunkView","chunkIndex","byteLength","chunkLength","chunkType","contentArray","byteOffset","preload","decodePrimitive","primitive","bufferViewIndex","bufferView","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","getDependency","decodeDracoFile","extendTexture","texCoord","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","MIME_TYPE_FORMATS","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","meshDef","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","primitiveCache","textureLoader","fileLoader","markDefs","getDependencies","dependencies","scenes","nodeDefs","nodes","skinDefs","skins","meshDefs","meshes","meshReferences","meshUses","skinIndex","skinLength","joints","nodeIndex","nodeLength","nodeDef","skin","dependency","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","uri","reject","bufferViewDef","bufferViews","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","byteStride","ibSlice","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","textureIndex","URL","webkitURL","textureDef","textureExtensions","sourceURI","isObjectURL","createObjectURL","revokeObjectURL","samplers","sampler","mapName","mapDef","assignFinalMaterial","useVertexTangents","useVertexColors","useFlatShading","useMorphTargets","useMorphNormals","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","computeBounds","accessor","addPrimitiveAttributes","assignAttributeAccessor","gltfAttributeName","toTrianglesDrawMode","numberOfTriangles","newIndices","newGeometry","loadGeometries","primitives","createDracoPrimitive","promise","geometryPromise","meshIndex","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","isInterpolantFactoryMethodGLTFCubicSpline","instanceNum","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","sceneIndex","sceneDef","nodeIds","EffectComposer","renderTarget1","renderTarget2","writeBuffer","readBuffer","renderToScreen","passes","CopyShader","ShaderPass","copyPass","clock","swapBuffers","addPass","insertPass","isLastEnabledPass","passIndex","maskActive","needsSwap","NOTEQUAL","EQUAL","MaskPass","ClearMaskPass","effectiveWidth","effectiveHeight","Pass","FullScreenQuad","writeValue","clearValue","REPLACE","ALWAYS","KEEP","RenderPass","oldAutoClear","oldClearColor","oldClearAlpha","SavePass","textureID","innerWidth","innerHeight","fsQuad","BlendShader","composer","renderPass","renderTargetParameters","savePass","blendPass","outputPass","controls","pointsLine","camPosIndex","posIndex","counter","present","PresentModelLoad","querySelector","ev","camPos","camRot","blurInit","Controls","Floor","HouseLights","light_2","smallLightInit","light_3","light_4","Loading","loadingOverlay","finalAnimation","MainLight","directionalLight","addHelper","MainModelLoad","modelPath","model","xhr","PointsLine","pointsArr","presentPath","animatePresent","RandomBoxes","Renderer","devicePixelRatio","classList","Sparkles","num","spriteMaterial","sparkleGlow","sparkleGeometry","sparkleMaterial","makeSparkles","sparkle","randomNumber","moveSparkle","increaser","toFixed","StartEndSphere","sphereGeom","sphereMat","sphere2","docReady","sparkles","cameraPathLine","CameraPathLine","houseLights","globalSparkleContainer"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"static/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./static/js/index.js\");\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","/*!\n * CSSPlugin 3.1.1\n * https://greensock.com\n *\n * Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _numWithUnitExp = /[-+=\\.]*\\d+[\\.e-]*\\d*[a-z%]*/g,\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, ~~((data.s + data.c * ratio) * 1000) / 1000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : ~~((data.s + data.c * ratio) * 1000) / 1000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? ~~((data.s + data.c * ratio) * 1000) / 1000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists()) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _checkPropPrefix(_transformOriginProp);\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldSibling) {\n    oldParent.insertBefore(this, oldSibling);\n  } else {\n    oldParent.appendChild(this);\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  } //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  isSVG = target.getCTM && _isSVG(target);\n\n  if (unit === \"%\" && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    //transforms and borderRadius are relative to the size of the element itself!\n    return _round(curValue / (isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty]) * amount);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && unit === \"%\" && cache.width && horizontal && cache.time === _ticker.time) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && unit === \"%\") {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : amount / px * curValue);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n\n  if (!_pluginInitted) {\n    _initCore();\n  }\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      relative,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n\n  start = a[0];\n  end = a[1];\n  startValue = start.indexOf(\"rgba(\");\n  endValue = end.indexOf(\"rgba(\");\n\n  if (!!startValue !== !!endValue) {\n    // for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary.\n    if (startValue) {\n      start = start.substr(startValue) + \" \" + start.substr(0, startValue - 1);\n    } else {\n      end = end.substr(endValue) + \" \" + end.substr(0, endValue - 1);\n    }\n  }\n\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: relative ? relative * endNum : endNum - startNum,\n          m: color && color < 4 ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  if (_relExp.test(end)) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      clearTransforms = target._gsap;\n\n      if (clearTransforms) {\n        if (clearTransforms.svg) {\n          target.removeAttribute(\"transform\");\n        }\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap,\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n\n    if (temp) {\n      style.display = temp;\n    } else {\n      _removeProperty(target, \"display\");\n    }\n\n    if (addedToDOM) {\n      if (nextSibling) {\n        parent.insertBefore(target, nextSibling);\n      } else if (parent) {\n        parent.appendChild(target);\n      } else {\n        _docElement.removeChild(target);\n      }\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      xOrigin = cache.xOrigin || 0,\n      yOrigin = cache.yOrigin || 0,\n      px = \"px\",\n      deg = \"deg\",\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    _applySVGOrigin(target, origin, cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      matrix = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      matrix && target.setAttribute(\"transform\", matrix);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  cache.x = ((cache.xPercent = x && Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0) ? 0 : x) + px;\n  cache.y = ((cache.yPercent = y && Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0) ? 0 : y) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n\n  if (forceCSS) {\n    //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\n    target.style[_transformProp] = temp;\n  }\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = relative ? endNum * relative : endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var style = _tempDivStyler.style,\n      startCache = target._gsap,\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n  style.cssText = getComputedStyle(target).cssText + \";position:absolute;display:block;\"; //%-based translations will fail unless we set the width/height to match the original target (and padding/borders can affect it)\n\n  style[_transformProp] = transforms;\n\n  _doc.body.appendChild(_tempDivStyler);\n\n  endCache = _parseTransform(_tempDivStyler, 1);\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _doc.body.removeChild(_tempDivStyler);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority;\n\n    if (!_pluginInitted) {\n      _initCore();\n    }\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        //plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        if (specialProp(this, target, p, endValue, tween)) {\n          hasPriority = 1;\n        }\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        this.add(style, \"setProperty\", getComputedStyle(target).getPropertyValue(p) + \"\", endValue + \"\", index, targets, 0, 0, p);\n      } else {\n        startValue = _get(target, p);\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n\n            if (~p.indexOf(\",\")) {\n              p = p.split(\",\")[0];\n            }\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform || _parseTransform(target); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]); //handle the zOrigin separately!\n\n              if (endUnit !== cache.zOrigin) {\n                _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n              }\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endUnit = (endValue + \"\").substr((endNum + \"\").length) || (p in _config.units ? _config.units[p] : startUnit);\n\n          if (startUnit !== endUnit) {\n            startNum = _convertToUnit(target, p, startValue, endUnit);\n          }\n\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, endUnit === \"px\" && vars.autoRound !== false && !isTransformRelated ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit) {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, target[p], endValue, index, targets);\n          } else {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\n        }\n\n        props.push(p);\n      }\n    }\n\n    if (hasPriority) {\n      _sortPropTweensByPriority(this);\n    }\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    property = _propertyAliases[property] || property;\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.1.1\n * https://greensock.com\n *\n * @license Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=\\.]*\\d+[\\.e\\-\\+]*\\d*[e\\-\\+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_complexStringNumExp = /[-+=\\.]*\\d+(?:\\.|e-|e)*\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_parenthesesExp = /\\(([^()]+)\\)/i,\n    //finds the string between parentheses.\n_relExp = /[\\+-]=-?[\\.\\d]+/,\n    _delimitedValueExp = /[#\\-+\\.]*\\b[a-z\\d-=+%.]+/gi,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n\n  if (!_isObject(target) && !_isFunction(target)) {\n    targets = [targets];\n  }\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property) {\n  var currentValue = target[property];\n  return _isFunction(currentValue) ? target[property]() : _isUndefined(currentValue) && target.getAttribute(property) || currentValue;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 10000) / 10000;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _parseVars = function _parseVars(params, type, parent) {\n  //reads the arguments passed to one of the key methods and figures out if the user is defining things with the OLD/legacy syntax where the duration is the 2nd parameter, and then it adjusts things accordingly and spits back the corrected vars object (with the duration added if necessary, as well as runBackwards or startAt or immediateRender). type 0 = to()/staggerTo(), 1 = from()/staggerFrom(), 2 = fromTo()/staggerFromTo()\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars;\n\n  if (isLegacy) {\n    vars.duration = params[1];\n  }\n\n  vars.parent = parent;\n\n  if (type) {\n    irVars = vars;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n\n    if (type < 2) {\n      vars.runBackwards = 1;\n    } else {\n      vars.startAt = params[varsIndex - 1]; // \"from\" vars\n    }\n  }\n\n  return vars;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n\n    if (tween && tween._lazy) {\n      tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0;\n    }\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  if (_lazyTweens.length) {\n    _lazyRender();\n  }\n\n  animation.render(time, suppressEvents, force);\n\n  if (_lazyTweens.length) {\n    //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n    _lazyRender();\n  }\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj)) {\n      obj[p] = defaults[p];\n    }\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj) && p !== \"duration\" && p !== \"ease\") {\n      obj[p] = defaults[p];\n    }\n  }\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p];\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    if (!(p in excluding)) {\n      copy[p] = obj[p];\n    }\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._dp = parent; //record the parent as _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n\n  child._next = child._prev = child.parent = null;\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  if (child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren)) {\n    child.parent.remove(child);\n  }\n\n  child._act = 0;\n},\n    _uncache = function _uncache(animation) {\n  var a = animation;\n\n  while (a) {\n    a._dirty = 1;\n    a = a.parent;\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  return (tTime /= cycleDuration) && ~~tTime === tTime ? ~~tTime - 1 : ~~tTime;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_addToTimeline = function _addToTimeline(timeline, child, position) {\n  child.parent && _removeFromParent(child);\n  child._start = position + child._delay;\n  child._end = child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0);\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  timeline._recent = child;\n\n  if (child._time || !child._dur && child._initted) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    var curTime = (timeline.rawTime() - child._start) * child._ts;\n\n    if (!child._dur || _clamp(0, child.totalDuration(), curTime) - child._tTime > _tinyNum) {\n      child.render(curTime, true);\n    }\n  }\n\n  _uncache(timeline); //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (timeline._dp && timeline._time >= timeline._dur && timeline._ts && timeline._dur < timeline.duration()) {\n    //in case any of the ancestors had completed but should now be enabled...\n    var tl = timeline;\n\n    while (tl._dp) {\n      tl.totalTime(tl._tTime, true); //moves the timeline (shifts its startTime) if necessary, and also enables it.\n\n      tl = tl._dp;\n    }\n  }\n\n  return timeline;\n},\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\n  _initTween(tween, totalTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [totalTime, suppressEvents];\n    return 1;\n  }\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween._zTime < 0 ? 0 : 1,\n      ratio = totalTime < 0 ? 0 : 1,\n      repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    //in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\n\n    if (iteration !== prevIteration) {\n      prevRatio = 1 - ratio;\n\n      if (tween.vars.repeatRefresh && tween._initted) {\n        tween.invalidate();\n      }\n    }\n  }\n\n  if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\n    //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n    return;\n  }\n\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    tween.ratio = ratio;\n\n    if (tween._from) {\n      ratio = 1 - ratio;\n    }\n\n    tween._time = 0;\n    tween._tTime = tTime;\n\n    if (!suppressEvents) {\n      _callback(tween, \"onStart\");\n    }\n\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    if (!ratio && tween._startAt && !tween._onUpdate && tween._start) {\n      //if the tween is positioned at the VERY beginning (_start 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\n      tween._startAt.render(totalTime, true, force);\n    }\n\n    if (tween._onUpdate && !suppressEvents) {\n      _callback(tween, \"onUpdate\");\n    }\n\n    if (tTime && tween._repeat && !suppressEvents && tween.parent) {\n      _callback(tween, \"onRepeat\");\n    }\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      tween.ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents) {\n        _callback(tween, tween.ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  if (animation instanceof Timeline) {\n    return _uncache(animation);\n  }\n\n  var repeat = animation._repeat;\n  animation._tDur = !repeat ? animation._dur : repeat < 0 ? 1e12 : _round(animation._dur * (repeat + 1) + animation._rDelay * repeat);\n\n  _uncache(animation.parent); //if the tween's duration changed, the parent timeline's duration may have changed, so flag it as \"dirty\"\n\n\n  return animation;\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position, useBuildFrom) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  //buildFrom = useBuildFrom ? animation._build : \"auto\",\n  i,\n      offset;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    i = position.charAt(0);\n\n    if (i === \"<\" || i === \">\") {\n      return (i === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);\n    }\n\n    i = position.indexOf(\"=\");\n\n    if (i < 0) {\n      if (!(position in labels)) {\n        labels[position] = clippedDuration;\n      }\n\n      return labels[position];\n    }\n\n    offset = +(position.charAt(i - 1) + position.substr(i + 1));\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position; //return (position == null) ? (isNaN(buildFrom) ? clippedDuration : buildFrom) : (buildFrom === \">>\" ? clippedDuration : +buildFrom || 0) + (+position);\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value) {\n  return (value + \"\").substr((parseFloat(value) + \"\").length);\n},\n    clamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, leaveStrings) {\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    //for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n\n        if (d > max) {\n          max = d;\n        }\n\n        if (d < min) {\n          min = d;\n        }\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\n  return function (raw) {\n    return ~~(Math.round(parseFloat(raw) / v) * v * p) / p + (_isNumber(raw) ? 0 : getUnit(raw));\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && ~~(Math.round((min + Math.random() * (max - min)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + (value - inMin) / inRange * outRange;\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      params,\n      scope;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n\n  if (executeLazyFirst && _lazyTweens.length) {\n    //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n    _lazyRender();\n  }\n\n  return params ? callback.apply(scope, params) : callback.call(scope);\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  if (animation.progress() < 1) {\n    _callback(animation, \"onInterrupt\");\n  }\n\n  return animation;\n},\n    _quickTween,\n    _createPlugin = function _createPlugin(config) {\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  if (config.register) {\n    config.register(gsap, Plugin, PropTween);\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    _hue = function _hue(h, m1, m2) {\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length === 4) {\n        //for shorthand like #9F0\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b;\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n\n        if (a.length > 3) {\n          a[3] *= 1; //cast as number\n        }\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        return v.match(_numExp);\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = h + .5 | 0;\n    a[1] = s * 100 + .5 | 0;\n    a[2] = l * 100 + .5 | 0;\n  }\n\n  return a;\n},\n    _formatColors = function _formatColors(s, toHSL) {\n  var colors = (s + \"\").match(_colorExp),\n      charIndex = 0,\n      parsed = \"\",\n      i,\n      color,\n      temp;\n\n  if (!colors) {\n    return s;\n  }\n\n  for (i = 0; i < colors.length; i++) {\n    color = colors[i];\n    temp = s.substr(charIndex, s.indexOf(color, charIndex) - charIndex);\n    charIndex += temp.length + color.length;\n    color = splitColor(color, toHSL);\n\n    if (color.length === 3) {\n      color.push(1);\n    }\n\n    parsed += temp + (toHSL ? \"hsla(\" + color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : \"rgba(\" + color.join(\",\")) + \")\";\n  }\n\n  return parsed + s.substr(charIndex);\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[0] = _formatColors(a[0], toHSL);\n    a[1] = _formatColors(a[1], toHSL);\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1 / 60,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch;\n\n    if (elapsed > _lagThreshold) {\n      _startTime += elapsed - _adjustedLag;\n    }\n\n    _lastUpdate += elapsed;\n    _self.time = (_lastUpdate - _startTime) / 1000;\n    overlap = _self.time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      _self.frame++;\n      _nextTime += overlap + (overlap >= _gap ? 0.004 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    if (!manual) {\n      //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n      _id = _req(_tick);\n    }\n\n    if (dispatch) {\n      _listeners.forEach(function (l) {\n        return l(_self.time, elapsed, _self.frame, v);\n      });\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, (_nextTime - _self.time) * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n    },\n    fps: function fps(_fps) {\n      _gap = 1 / (_fps || 60);\n      _nextTime = _self.time + _gap;\n    },\n    add: function add(callback) {\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\n\n      _wake();\n    },\n    remove: function remove(callback) {\n      var i;\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1);\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _parenthesesExp.exec(name)[1].split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // potential future feature - allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos. Not sure it's worth the kb.\n// _propagateYoyoEase = (timeline, isYoyo) => {\n// \tlet child = timeline._first, ease;\n// \twhile (child) {\n// \t\tif (child instanceof Timeline) {\n// \t\t\t_propagateYoyoEase(child, isYoyo);\n// \t\t} else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n// \t\t\tif (child.timeline) {\n// \t\t\t\t_propagateYoyoEase(child.timeline, isYoyo);\n// \t\t\t} else {\n// \t\t\t\tease = child._ease;\n// \t\t\t\tchild._ease = child._yEase;\n// \t\t\t\tchild._yEase = ease;\n// \t\t\t\tchild._yoyo = isYoyo;\n// \t\t\t}\n// \t\t}\n// \t\tchild = child._next;\n// \t}\n// },\n_parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return --p * p * ((overshoot + 1) * p + overshoot) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation =\n/*#__PURE__*/\nfunction () {\n  function Animation(vars, time) {\n    var parent = vars.parent || _globalTimeline;\n    this.vars = vars;\n    this._dur = this._tDur = +vars.duration || 0;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat || 0) {\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n\n      _onUpdateTotalDuration(this);\n    }\n\n    this._ts = 1;\n    this.data = vars.data;\n\n    if (!_tickerActive) {\n      _ticker.wake();\n    }\n\n    if (parent) {\n      _addToTimeline(parent, this, time || time === 0 ? time : parent._time);\n    }\n\n    if (vars.reversed) {\n      this.reversed(true);\n    }\n\n    if (vars.paused) {\n      this.paused(true);\n    }\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    var isSetter = arguments.length,\n        repeat = this._repeat,\n        repeatCycles = repeat > 0 ? repeat * ((isSetter ? value : this._dur) + this._rDelay) : 0;\n    return isSetter ? this.totalDuration(repeat < 0 ? value : value + repeatCycles) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    var repeat = this._repeat,\n        isInfinite = (value || this._rDelay) && repeat < 0;\n    this._tDur = isInfinite ? 1e12 : value;\n    this._dur = isInfinite ? value : (value - repeat * this._rDelay) / (repeat + 1);\n    this._dirty = 0;\n\n    _uncache(this.parent);\n\n    return this;\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this.parent || this._dp,\n        start;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      start = this._start; // if (!parent._dp && parent._time === parent._dur) { // if a root timeline completes...and then a while later one of its children resumes, we must shoot the playhead forward to where it should be raw-wise, otherwise the child will jump to the end. Down side: this assumes it's using the _ticker.time as a reference.\n      // \tparent._time = _ticker.time - parent._start;\n      // }\n\n      this._start = parent._time - (this._ts > 0 ? _totalTime / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - _totalTime) / -this._ts);\n      this._end += this._start - start;\n\n      if (!parent._dirty) {\n        //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n        _uncache(parent);\n      } //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n\n      while (parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts > 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && parent.autoRemoveChildren) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(parent, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents) {\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n\n      _lazySafeRender(this, _totalTime, suppressEvents);\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this._tTime / this.totalDuration();\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? this._time / this._dur : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  };\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._ts || this._pauseTS || 0;\n    }\n\n    if (this._pauseTS !== null) {\n      this._pauseTS = value;\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n\n    this._ts = value; // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    return _recacheAncestors(this.totalTime(tTime, true));\n  };\n\n  _proto.paused = function paused(value) {\n    var isPaused = !this._ts;\n\n    if (!arguments.length) {\n      return isPaused;\n    }\n\n    if (isPaused !== value) {\n      if (value) {\n        this._pauseTS = this._ts;\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; //we use a timeScale of 0 to indicate a paused state, but we record the old \"real\" timeScale as _pauseTS so we can revert when unpaused.\n      } else {\n        this._ts = this._pauseTS || 1;\n        this._pauseTS = null;\n        value = this._tTime || this._pTime; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume().\n\n        if (this.progress() === 1) {\n          // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course).\n          this._tTime -= _tinyNum;\n        }\n\n        this.totalTime(value, true);\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      if (this.parent && this.parent._sort) {\n        _addToTimeline(this.parent, this, value - this._delay);\n      }\n\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detatched parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  } // globalTime(rawTime) {\n  // \tlet animation = this,\n  // \t\ttime = arguments.length ? rawTime : animation.rawTime();\n  // \twhile (animation) {\n  // \t\ttime = animation._start + time / (animation._ts || 1);\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn time;\n  // }\n  ;\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      this._rDelay = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from, suppressEvents);\n    }\n\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from || this.totalDuration(), suppressEvents);\n    }\n\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    if (atTime != null) {\n      this.seek(atTime, suppressEvents);\n    }\n\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    var ts = this._ts || this._pauseTS || 0;\n\n    if (arguments.length) {\n      if (value !== this.reversed()) {\n        this[this._pauseTS === null ? \"_ts\" : \"_pauseTS\"] = Math.abs(ts) * (value ? -1 : 1);\n        this.totalTime(this._tTime, true);\n      }\n\n      return this;\n    }\n\n    return ts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = 0;\n    return this;\n  };\n\n  _proto.isActive = function isActive(hasStarted) {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && (this._initted || !hasStarted) && parent.isActive(hasStarted) && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n\n        if (params) {\n          vars[type + \"Params\"] = params;\n        }\n\n        if (type === \"onUpdate\") {\n          this._onUpdate = callback;\n        }\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        f = f(self);\n\n        if (f) {\n          if (f.then || f === self) {\n            self.then = _then;\n          } else if (!_isFunction(f)) {\n            f = _passThrough;\n          }\n        }\n\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: 0,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _pauseTS: null\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline =\n/*#__PURE__*/\nfunction (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, time) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars, time) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n\n    if (!vars.repeatDelay) {\n      vars.repeat = 0;\n    }\n\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), _parsePosition(this, position));\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    vars.immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    toVars.immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 && this !== _globalTimeline ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (crossingStart) {\n        if (!dur) {\n          prevTime = this._zTime;\n        }\n\n        if (totalTime || !suppressEvents) {\n          //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n          this._zTime = totalTime;\n        }\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = timeScale === 0;\n\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        time += this._time - prevTime;\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur || tDur === tTime) {\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n\n          if (iteration < prevIteration) {\n            rewinding = !rewinding;\n          }\n\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime, suppressEvents, !dur)._lock = 0;\n\n          if (!suppressEvents && this.parent) {\n            _callback(this, \"onRepeat\");\n          }\n\n          this.vars.repeatRefresh && !isYoyo && this.getChildren().forEach(function (child) {\n            return child.invalidate();\n          });\n\n          if (prevTime !== this._time || prevPaused !== !this._ts) {\n            return this;\n          }\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur + 0.0001 : -0.0001;\n            this.render(prevTime, true);\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n          //_propagateYoyoEase(this, isYoyo);\n\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      if (this._onUpdate && !suppressEvents) {\n        _callback(this, \"onUpdate\", true);\n      }\n\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && this._ts < 0) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) {\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    if (!_isNumber(position)) {\n      position = _parsePosition(this, position);\n    }\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return _uncache(this);\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  } // buildFrom(position, absolute) {\n  // \tthis._build = (position === \">>\" || position === \"auto\") ? position : (position === \"<<\") ? 0 : _parsePosition(this, position, !absolute);\n  // \treturn this;\n  // }\n  ;\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          if (tweens) {\n            a.push(child);\n          }\n        } else {\n          if (timelines) {\n            a.push(child);\n          }\n\n          if (nested) {\n            a.push.apply(a, child.getChildren(true, tweens, timelines));\n          }\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this.parent && !this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts);\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (!onlyActive || child.isActive(onlyActive === \"started\"))) {\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        startAt = vars && vars.startAt,\n        tween = Tween.to(tl, _setDefaults({\n      ease: \"none\",\n      lazy: false,\n      time: endTime,\n      duration: Math.abs(endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale() || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n        var duration = Math.abs(endTime - tl._time) / tl.timeScale();\n\n        if (tween._dur !== duration) {\n          tween._dur = duration;\n          tween.render(tween._time, true, true);\n        }\n\n        if (vars && vars.onStart) {\n          //in case the user had an onStart in the vars - we don't want to overwrite it.\n          vars.onStart.apply(tween, vars.onStartParams || []);\n        }\n      }\n    }, vars));\n\n    return tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate() {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate();\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._time = this._tTime = 0;\n\n    if (includeLabels) {\n      this.labels = {};\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        repeat = self._repeat,\n        repeatCycles = repeat * self._rDelay || 0,\n        isInfinite = repeat < 0,\n        prev,\n        end;\n\n    if (!arguments.length) {\n      if (self._dirty) {\n        while (child) {\n          prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n          if (child._dirty) {\n            child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n          }\n\n          if (child._start > prevStart && self._sort && child._ts && !self._lock) {\n            //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n            self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n            _addToTimeline(self, child, child._start - child._delay);\n\n            self._lock = 0;\n          } else {\n            prevStart = child._start;\n          }\n\n          if (child._start < 0 && child._ts) {\n            //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n            max -= child._start;\n\n            if (!self.parent && !self._dp || self.parent && self.parent.smoothChildTiming) {\n              self._start += child._start / self._ts;\n              self._time -= child._start;\n              self._tTime -= child._start;\n            }\n\n            self.shiftChildren(-child._start, false, -1e20);\n            prevStart = 0;\n          }\n\n          end = child._end = child._start + child._tDur / Math.abs(child._ts || child._pauseTS || _tinyNum);\n\n          if (end > max && child._ts) {\n            max = _round(end);\n          }\n\n          child = prev;\n        }\n\n        self._dur = self === _globalTimeline && self._time > max ? self._time : Math.min(_bigNum, max);\n        self._tDur = isInfinite && (self._dur || repeatCycles) ? 1e12 : Math.min(_bigNum, max * (repeat + 1) + repeatCycles);\n        self._end = self._start + (self._tDur / Math.abs(self._ts || self._pauseTS || _tinyNum) || 0);\n        self._dirty = 0;\n      }\n\n      return self._tDur;\n    }\n\n    return isInfinite ? self : self.timeScale(self.totalDuration() / value);\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        if (!child) {\n          _ticker.sleep();\n        }\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\n  if (_isFunction(end)) {\n    end = end(index || 0, target, targets);\n  }\n\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\n    }\n  }\n\n  if (parsedStart !== end) {\n    if (!isNaN(parsedStart + end)) {\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n\n      if (funcParam) {\n        pt.fp = funcParam;\n      }\n\n      if (modifier) {\n        pt.modifier(modifier, this, target);\n      }\n\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  if (_isFunction(vars)) {\n    vars = _parseFuncOrString(vars, tween, index, target, targets);\n  }\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_initTween = function _initTween(tween, time) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\",\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars;\n\n  if (tl && (!keyframes || !ease)) {\n    ease = \"none\";\n  }\n\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  if (!tl) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    if (prevStartAt) {\n      prevStartAt.render(-1, true).kill();\n    }\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      if (immediateRender) {\n        if (time > 0) {\n          !autoRevert && (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n        } else if (dur) {\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (prevStartAt) {\n        !autoRevert && (tween._startAt = 0);\n      } else {\n        if (time) {\n          //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n          immediateRender = false;\n        }\n\n        _removeFromParent(tween._startAt = Tween.set(targets, _merge(_copyExcluding(vars, _reservedProps), {\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        })));\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n    tween._pt = 0;\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n\n      if (_lazyLookup[gsData.id]) {\n        _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      }\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        if (plugin.priority) {\n          hasPriority = 1;\n        }\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            if (plugin.priority) {\n              hasPriority = 1;\n            }\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      if (tween._op && tween._op[i]) {\n        tween.kill(target, tween._op[i]);\n      }\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, \"started\"); //Also make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        _overwritingTween = 0;\n      }\n\n      if (tween._pt && lazy) {\n        _lazyLookup[gsData.id] = 1;\n      }\n    }\n\n    if (hasPriority) {\n      _sortPropTweensByPriority(tween);\n    }\n\n    if (tween._onInit) {\n      //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n      tween._onInit(tween);\n    }\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  tween._onUpdate = onUpdate;\n  tween._initted = 1;\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused\").split(\",\");\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween =\n/*#__PURE__*/\nfunction (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, time) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      time.duration = vars;\n      vars = time;\n      time = null;\n    }\n\n    _this3 = _Animation2.call(this, _inheritDefaults(vars), time) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        parsedTargets = _isArray(targets) && _isNumber(targets[0]) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {}\n      });\n      tl.kill();\n      tl.parent = _assertThisInitialized(_this3);\n\n      if (keyframes) {\n        _setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        });\n\n        keyframes.forEach(function (frame) {\n          return tl.to(parsedTargets, frame, \">\");\n        });\n      } else {\n        l = parsedTargets.length;\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              if (!staggerVarsToMerge) {\n                staggerVarsToMerge = {};\n              }\n\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = {};\n\n          for (p in vars) {\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\n              copy[p] = vars[p];\n            }\n          }\n\n          copy.stagger = 0;\n\n          if (staggerVarsToMerge) {\n            _merge(copy, staggerVarsToMerge);\n          }\n\n          if (vars.yoyoEase && !vars.repeat) {\n            //so that propagation works properly when a ancestor timeline yoyos\n            copy.yoyoEase = vars.yoyoEase;\n          }\n\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\n        }\n\n        duration = delay = 0;\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _this3.parent._time && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && _this3.parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\n\n    }\n\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || this._startAt && this._zTime < 0 !== totalTime < 0) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur) {\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          //timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo);\n          //repeatRefresh functionality\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(cycleDuration * iteration, true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted && _attemptInitTween(this, time, force, suppressEvents)) {\n        this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n        return this;\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        if (totalTime < 0 && this._startAt) {\n          this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        }\n\n        _callback(this, \"onUpdate\");\n      }\n\n      if (this._repeat) if (iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent) {\n        _callback(this, \"onRepeat\");\n      }\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        if (totalTime < 0 && this._startAt && !this._onUpdate) {\n          this._startAt.render(totalTime, true, force);\n        }\n\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate() {\n    this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0;\n    this._ptLookup = [];\n\n    if (this.timeline) {\n      this.timeline.invalidate();\n    }\n\n    return _Animation2.prototype.invalidate.call(this);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = 0;\n\n      if (this.parent) {\n        return _interrupt(this);\n      }\n    }\n\n    if (this.timeline) {\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true);\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    if (this._initted && !this._pt && firstPT) {\n      //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n      _interrupt(this);\n    }\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return new Tween(targets, _parseVars(arguments, 1));\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    });\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return new Tween(targets, _parseVars(arguments, 2));\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n\n    if (!vars.repeatDelay) {\n      vars.repeat = 0;\n    }\n\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property) {\n      pt.modifier(modifier, tween, target);\n    }\n\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween =\n/*#__PURE__*/\nfunction () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert\", function (name) {\n  _reservedProps[name] = 1;\n  if (name.substr(0, 2) === \"on\") _reservedProps[name + \"Params\"] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\"\n});\n_config.stringFilter = _colorStringFilter;\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    if (_isString(target)) {\n      //in case selector text or an array is passed in\n      target = toArray(target)[0];\n    }\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    if (unit === \"native\") {\n      unit = \"\";\n    }\n\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, property);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, property, unit ? value + unit : value, cache, 1);\n    };\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    if (value && value.ease) {\n      value.ease = _parseEase(value.ease, _defaults.ease);\n    }\n\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref) {\n    var name = _ref.name,\n        effect = _ref.effect,\n        plugins = _ref.plugins,\n        defaults = _ref.defaults,\n        extendTimeline = _ref.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults));\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    for (var p in vars) {\n      this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p); //this.add(target, \"setAttribute\", (target.getAttribute((p in target.dataset ? (p = \"data-\" + p) : p)) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n\n      this._props.push(p);\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i]);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.1.1\";\n_coreReady = 1;\n\nif (_windowExists()) {\n  _wake();\n}\n\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","module.exports = function( THREE ) {\n\t/**\n\t * @author qiao / https://github.com/qiao\n\t * @author mrdoob / http://mrdoob.com\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author erich666 / http://erichaines.com\n\t */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n\tfunction OrbitControls( object, domElement ) {\n\n\t\tthis.object = object;\n\n\t\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new THREE.Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t\t// Set to false to disable use of the keys\n\t\tthis.enableKeys = true;\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function() {\n\n\t\t\tvar offset = new THREE.Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\tvar lastPosition = new THREE.Vector3();\n\t\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\t\treturn function update () {\n\n\t\t\t\tvar position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t// restrict theta to be between desired limits\n\t\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function() {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tvar scope = this;\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\t\tvar state = STATE.NONE;\n\n\t\tvar EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tvar spherical = new THREE.Spherical();\n\t\tvar sphericalDelta = new THREE.Spherical();\n\n\t\tvar scale = 1;\n\t\tvar panOffset = new THREE.Vector3();\n\t\tvar zoomChanged = false;\n\n\t\tvar rotateStart = new THREE.Vector2();\n\t\tvar rotateEnd = new THREE.Vector2();\n\t\tvar rotateDelta = new THREE.Vector2();\n\n\t\tvar panStart = new THREE.Vector2();\n\t\tvar panEnd = new THREE.Vector2();\n\t\tvar panDelta = new THREE.Vector2();\n\n\t\tvar dollyStart = new THREE.Vector2();\n\t\tvar dollyEnd = new THREE.Vector2();\n\t\tvar dollyDelta = new THREE.Vector2();\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tvar panLeft = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tvar panUp = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tvar pan = function() {\n\n\t\t\tvar offset = new THREE.Vector3();\n\n\t\t\treturn function pan ( deltaX, deltaY ) {\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tvar position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\t//console.log( 'handleMouseDownPan' );\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\t//console.log( 'handleMouseMovePan' );\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseUp( event ) {\n\n\t\t\t//console.log( 'handleMouseUp' );\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\t//console.log( 'handleMouseWheel' );\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\t//console.log( 'handleKeyDown' );\n\n\t\t\tswitch ( event.keyCode ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate( event ) {\n\n\t\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly( event ) {\n\n\t\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartPan( event ) {\n\n\t\t\t//console.log( 'handleTouchStartPan' );\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\t//console.log( 'handleTouchMovePan' );\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleTouchEnd( event ) {\n\n\t\t\t//console.log( 'handleTouchEnd' );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleMouseUp( event );\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleTouchStartDolly( event );\n\n\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n\t\t\t\t\thandleTouchMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleTouchEnd( event );\n\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\t\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\t\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t};\n\n\tOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\tOrbitControls.prototype.constructor = OrbitControls;\n\n\tObject.defineProperties( OrbitControls.prototype, {\n\n\t\tcenter: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\t\treturn this.target;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// backward compatibility\n\n\t\tnoZoom: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\treturn ! this.enableZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\tthis.enableZoom = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoRotate: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\treturn ! this.enableRotate;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\tthis.enableRotate = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoPan: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\treturn ! this.enablePan;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\tthis.enablePan = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoKeys: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\treturn ! this.enableKeys;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\tthis.enableKeys = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tstaticMoving : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\treturn ! this.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\tthis.enableDamping = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdynamicDampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\treturn this.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\tthis.dampingFactor = value;\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\treturn OrbitControls;\n};\n","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\tObject.assign = function ( target ) {\n\n\t\tif ( target === undefined || target === null ) {\n\n\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t}\n\n\t\tvar output = Object( target );\n\n\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\tvar source = arguments[ index ];\n\n\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn output;\n\n\t};\n\n}\n\nvar REVISION = '113';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nvar TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar VSMShadowMap = 3;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipmapNearestFilter = 1004;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipmapLinearFilter = 1005;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipmapNearestFilter = 1007;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipmapLinearFilter = 1008;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RedIntegerFormat = 1029;\nvar RGFormat = 1030;\nvar RGIntegerFormat = 1031;\nvar RGBIntegerFormat = 1032;\nvar RGBAIntegerFormat = 1033;\n\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\nvar ZeroStencilOp = 0;\nvar KeepStencilOp = 7680;\nvar ReplaceStencilOp = 7681;\nvar IncrementStencilOp = 7682;\nvar DecrementStencilOp = 7683;\nvar IncrementWrapStencilOp = 34055;\nvar DecrementWrapStencilOp = 34056;\nvar InvertStencilOp = 5386;\n\nvar NeverStencilFunc = 512;\nvar LessStencilFunc = 513;\nvar EqualStencilFunc = 514;\nvar LessEqualStencilFunc = 515;\nvar GreaterStencilFunc = 516;\nvar NotEqualStencilFunc = 517;\nvar GreaterEqualStencilFunc = 518;\nvar AlwaysStencilFunc = 519;\n\nvar StaticDrawUsage = 35044;\nvar DynamicDrawUsage = 35048;\nvar StreamDrawUsage = 35040;\nvar StaticReadUsage = 35045;\nvar DynamicReadUsage = 35049;\nvar StreamReadUsage = 35041;\nvar StaticCopyUsage = 35046;\nvar DynamicCopyUsage = 35050;\nvar StreamCopyUsage = 35042;\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author thezwap\n */\n\nvar _lut = [];\n\nfor ( var i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nvar MathUtils = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\tvar uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\treturn uuid.toUpperCase();\n\n\t},\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * MathUtils.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * MathUtils.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\n\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c2 = cos( b / 2 );\n\t\tvar s2 = sin( b / 2 );\n\n\t\tvar c13 = cos( ( a + c ) / 2 );\n\t\tvar s13 = sin( ( a + c ) / 2 );\n\n\t\tvar c1_3 = cos( ( a - c ) / 2 );\n\t\tvar s1_3 = sin( ( a - c ) / 2 );\n\n\t\tvar c3_1 = cos( ( c - a ) / 2 );\n\t\tvar s3_1 = sin( ( c - a ) / 2 );\n\n\t\tif ( order === 'XYX' ) {\n\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\n\t\t} else if ( order === 'YZY' ) {\n\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\n\t\t} else if ( order === 'ZXZ' ) {\n\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\n\t\t} else if ( order === 'XZX' ) {\n\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\n\t\t} else if ( order === 'YXY' ) {\n\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\n\t\t} else if ( order === 'ZYZ' ) {\n\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.internalFormat = null;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.defineProperties( Vector4.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.z = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.w = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.image = {};\n\tthis.texture.image.width = width;\n\tthis.texture.image.height = height;\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Matt DesLauriers / @mattdesl\n */\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector = new Vector3();\nvar _quaternion = new Quaternion();\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t},\n\n\tapplyAxisAngle: function ( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( v ) {\n\n\t\tvar denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tvar scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function ( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t},\n\n\treflect: function ( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t},\n\n\tangleTo: function ( v ) {\n\n\t\tvar denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tvar theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tsetFromMatrix3Column: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nvar _v1 = new Vector3();\nvar _m1 = new Matrix4();\nvar _zero = new Vector3( 0, 0, 0 );\nvar _one = new Vector3( 1, 1, 1 );\nvar _x = new Vector3();\nvar _y = new Vector3();\nvar _z = new Vector3();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function ( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tvar scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tvar scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tvar scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t},\n\n\tlookAt: function ( eye, target, up ) {\n\n\t\tvar te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tvar sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tvar sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tvar det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tvar invSX = 1 / sx;\n\t\tvar invSY = 1 / sy;\n\t\tvar invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nvar _matrix = new Matrix4();\nvar _quaternion$1 = new Quaternion();\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = MathUtils.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function ( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t},\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function ( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$1.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\n\n\t},\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\tenableAll: function () {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\tdisableAll: function () {\n\n\t\tthis.mask = 0;\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\nvar _object3DId = 0;\n\nvar _v1$1 = new Vector3();\nvar _q1 = new Quaternion();\nvar _m1$1 = new Matrix4();\nvar _target = new Vector3();\n\nvar _position = new Vector3();\nvar _scale = new Vector3();\nvar _quaternion$2 = new Quaternion();\n\nvar _xAxis = new Vector3( 1, 0, 0 );\nvar _yAxis = new Vector3( 0, 1, 0 );\nvar _zAxis = new Vector3( 0, 0, 1 );\n\nvar _addedEvent = { type: 'added' };\nvar _removedEvent = { type: 'removed' };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation._onChange( onRotationChange );\n\tquaternion._onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateOnWorldAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t},\n\n\ttranslateOnAxis: function ( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t},\n\n\ttranslateX: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t},\n\n\ttranslateY: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t},\n\n\ttranslateZ: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t},\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.getInverse( this.matrixWorld ) );\n\n\t},\n\n\tlookAt: function ( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tvar parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.inverse() );\n\n\t\t}\n\n\t},\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tattach: function ( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.getInverse( this.matrixWorld );\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldScale: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.environment = null;\n\tthis.fog = null;\n\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nvar _points = [\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3()\n];\n\nvar _vector$1 = new Vector3();\n\nvar _box = new Box3();\n\n// triangle centered vertices\n\nvar _v0 = new Vector3();\nvar _v1$2 = new Vector3();\nvar _v2 = new Vector3();\n\n// triangle edge vectors\n\nvar _f0 = new Vector3();\nvar _f1 = new Vector3();\nvar _f2 = new Vector3();\n\nvar _center = new Vector3();\nvar _extents = new Vector3();\nvar _triangleNormal = new Vector3();\nvar _testAxis = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$1.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function ( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.expandByPoint( _box.min );\n\t\t\tthis.expandByPoint( _box.max );\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$1 );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$1.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: function ( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1$2.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$2, _v0 );\n\t\t_f1.subVectors( _v2, _v1$2 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tvar axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1$2, _v2, _extents );\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$1.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tgetBoundingSphere: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$1 ).length() * 0.5;\n\n\t\treturn target;\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tvar i, j;\n\n\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tvar r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tvar p0 = v0.dot( _testAxis );\n\t\tvar p1 = v1.dot( _testAxis );\n\t\tvar p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nvar _box$1 = new Box3();\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points, optionalCenter ) {\n\n\t\tvar center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$1.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tvar maxRadiusSq = 0;\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\nvar _vector$2 = new Vector3();\nvar _segCenter = new Vector3();\nvar _segDir = new Vector3();\nvar _diff = new Vector3();\n\nvar _edge1 = new Vector3();\nvar _edge2 = new Vector3();\nvar _normal = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3( 0, 0, - 1 );\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function ( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$2 ) );\n\n\t\treturn this;\n\n\t},\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function ( point ) {\n\n\t\tvar directionDistance = _vector$2.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$2.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$2.distanceToSquared( point );\n\n\t},\n\n\tdistanceSqToSegment: function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tvar a01 = - this.direction.dot( _segDir );\n\t\tvar b0 = _diff.dot( this.direction );\n\t\tvar b1 = - _diff.dot( _segDir );\n\t\tvar c = _diff.lengthSq();\n\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\tvar s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t},\n\n\tintersectSphere: function ( sphere, target ) {\n\n\t\t_vector$2.subVectors( sphere.center, this.origin );\n\t\tvar tca = _vector$2.dot( this.direction );\n\t\tvar d2 = _vector$2.dot( _vector$2 ) - tca * tca;\n\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tvar t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tvar t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn this.intersectBox( box, _vector$2 ) !== null;\n\n\t},\n\n\tintersectTriangle: function ( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tvar DdN = this.direction.dot( _normal );\n\t\tvar sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tvar DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tvar QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t},\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector1 = new Vector3();\nvar _vector2 = new Vector3();\nvar _normalMatrix = new Matrix3();\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tisPlane: true,\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function ( a, b, c ) {\n\n\t\tvar normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function ( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar direction = line.delta( _vector1 );\n\n\t\tvar denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t},\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function ( matrix, optionalNormalMatrix ) {\n\n\t\tvar normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tvar referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v0$1 = new Vector3();\nvar _v1$3 = new Vector3();\nvar _v2$1 = new Vector3();\nvar _v3 = new Vector3();\n\nvar _vab = new Vector3();\nvar _vac = new Vector3();\nvar _vbc = new Vector3();\nvar _vap = new Vector3();\nvar _vbp = new Vector3();\nvar _vcp = new Vector3();\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function ( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tvar targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t},\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function ( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$1.subVectors( point, a );\n\n\t\tvar dot00 = _v0$1.dot( _v0$1 );\n\t\tvar dot01 = _v0$1.dot( _v1$3 );\n\t\tvar dot02 = _v0$1.dot( _v2$1 );\n\t\tvar dot11 = _v1$3.dot( _v1$3 );\n\t\tvar dot12 = _v1$3.dot( _v2$1 );\n\n\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tvar invDenom = 1 / denom;\n\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t},\n\n\tcontainsPoint: function ( point, a, b, c ) {\n\n\t\tTriangle.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t},\n\n\tgetUV: function ( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t},\n\n\tisFrontFacing: function ( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t},\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tisFrontFacing: function ( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function ( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar a = this.a, b = this.b, c = this.c;\n\t\tvar v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tvar d1 = _vab.dot( _vap );\n\t\tvar d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tvar d3 = _vab.dot( _vbp );\n\t\tvar d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tvar vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tvar d5 = _vab.dot( _vcp );\n\t\tvar d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tvar vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tvar va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tvar denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t},\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nvar _hslA = { h: 0, s: 0, l: 0 };\nvar _hslB = { h: 0, s: 0, l: 0 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function ( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetColorName: function ( style ) {\n\n\t\t// color keywords\n\t\tvar hex = _colorKeywords[ style ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function ( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToSRGB: function ( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function ( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tvar h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tvar s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tvar l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\nColor.NAMES = _colorKeywords;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexTangents = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\t\tdata.refractionRatio = this.refractionRatio;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexTangents = source.vertexTangents;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _vector$3 = new Vector3();\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix3( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nvar _m1$2 = new Matrix4();\nvar _obj = new Object3D();\nvar _offset = new Vector3();\nvar _box$2 = new Box3();\nvar _boxMorphTargets = new Box3();\nvar _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\tthis.morphTargetsRelative = false;\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tsetAttribute: function ( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tdeleteAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tvar tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$2.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$2.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$2.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$2.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$2.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.setAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.setAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.setAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.setAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.setAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.setAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$2.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.min, _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.max, _box$2.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t_box$2.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$2.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tvar morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( var j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$4.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.setAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeOffset = attribute2.itemSize * offset;\n\t\t\tvar length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( var i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar normals = this.attributes.normal;\n\n\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$4.x = normals.getX( i );\n\t\t\t_vector$4.y = normals.getY( i );\n\t\t\t_vector$4.z = normals.getZ( i );\n\n\t\t\t_vector$4.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\n\n\t\t}\n\n\t},\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = this.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar morphArray = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = morphAttribute[ i ];\n\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tvar morphAttributes = {};\n\t\tvar hasMorphAttributes = false;\n\n\t\tfor ( var key in this.morphAttributes ) {\n\n\t\t\tvar attributeArray = this.morphAttributes[ key ];\n\n\t\t\tvar array = [];\n\n\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = attributeArray[ i ];\n\n\t\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nvar _inverseMatrix = new Matrix4();\nvar _ray = new Ray();\nvar _sphere = new Sphere();\n\nvar _vA = new Vector3();\nvar _vB = new Vector3();\nvar _vC = new Vector3();\n\nvar _tempA = new Vector3();\nvar _tempB = new Vector3();\nvar _tempC = new Vector3();\n\nvar _morphA = new Vector3();\nvar _morphB = new Vector3();\nvar _morphC = new Vector3();\n\nvar _uvA = new Vector2();\nvar _uvB = new Vector2();\nvar _uvC = new Vector2();\n\nvar _intersectionPoint = new Vector3();\nvar _intersectionPointWorld = new Vector3();\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar material = this.material;\n\t\tvar matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.getInverse( matrixWorld );\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tvar intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar a, b, c;\n\t\t\tvar index = geometry.index;\n\t\t\tvar position = geometry.attributes.position;\n\t\t\tvar morphPosition = geometry.morphAttributes.position;\n\t\t\tvar morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tvar uv = geometry.attributes.uv;\n\t\t\tvar uv2 = geometry.attributes.uv2;\n\t\t\tvar groups = geometry.groups;\n\t\t\tvar drawRange = geometry.drawRange;\n\t\t\tvar i, j, il, jl;\n\t\t\tvar group, groupMaterial;\n\t\t\tvar start, end;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = i;\n\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar fvA, fvB, fvC;\n\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar faces = geometry.faces;\n\t\t\tvar uvs;\n\n\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\tvar face = faces[ f ];\n\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\n\n\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection.face = face;\n\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tvar intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tvar distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tvar morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( var i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tvar influence = morphInfluences[ i ];\n\t\t\tvar morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tvar intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tvar face = new Face3( a, b, c );\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar _geometryId = 0; // Geometry uses even numbers as Id\nvar _m1$3 = new Matrix4();\nvar _obj$1 = new Object3D();\nvar _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$3.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$3.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$3.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$3.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$3.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj$1.lookAt( vector );\n\n\t\t_obj$1.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj$1.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tif ( attributes.position === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( var i = 0; i < positions.length; i += 3 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\n\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( var i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs2 = geometry.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\n\n\t\t\tfor ( var j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( var k = 0, kl = uvs2.length; k < kl; k ++ ) {\n\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nclass BoxGeometry extends Geometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n// BoxBufferGeometry\n\nclass BoxBufferGeometry extends BufferGeometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tvar scope = this;\n\n\t\twidth = width || 1;\n\t\theight = height || 1;\n\t\tdepth = depth || 1;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments ) || 1;\n\t\theightSegments = Math.floor( heightSegments ) || 1;\n\t\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t\t// buffers\n\n\t\tvar indices = [];\n\t\tvar vertices = [];\n\t\tvar normals = [];\n\t\tvar uvs = [];\n\n\t\t// helper variables\n\n\t\tvar numberOfVertices = 0;\n\t\tvar groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tvar segmentWidth = width / gridX;\n\t\t\tvar segmentHeight = height / gridY;\n\n\t\t\tvar widthHalf = width / 2;\n\t\t\tvar heightHalf = height / 2;\n\t\t\tvar depthHalf = depth / 2;\n\n\t\t\tvar gridX1 = gridX + 1;\n\t\t\tvar gridY1 = gridY + 1;\n\n\t\t\tvar vertexCounter = 0;\n\t\t\tvar groupCount = 0;\n\n\t\t\tvar ix, iy;\n\n\t\t\tvar vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tvar extensions = {};\n\n\tfor ( var key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar fov = 90, aspect = 1;\n\nfunction CubeCamera( near, far, cubeResolution, options ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLCubeRenderTarget( cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( renderTarget, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction WebGLCubeRenderTarget( size, options, dummy ) {\n\n\tif ( Number.isInteger( options ) ) {\n\n\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\toptions = dummy;\n\n\t}\n\n\tWebGLRenderTarget.call( this, size, size, options );\n\n}\n\nWebGLCubeRenderTarget.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\n\n\tthis.texture.type = texture.type;\n\tthis.texture.format = texture.format;\n\tthis.texture.encoding = texture.encoding;\n\n\tvar scene = new Scene();\n\n\tvar shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\n\t\t\t\"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\n\t\t\t\"}\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvWorldDirection = transformDirection( position, modelMatrix );\",\n\n\t\t\t\"\t#include <begin_vertex>\",\n\t\t\t\"\t#include <project_vertex>\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D tEquirect;\",\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"#define RECIPROCAL_PI 0.31830988618\",\n\t\t\t\"#define RECIPROCAL_PI2 0.15915494\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvec3 direction = normalize( vWorldDirection );\",\n\n\t\t\t\"\tvec2 sampleUV;\",\n\n\t\t\t\"\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\n\n\t\t\t\"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\n\t\t\t\"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\t};\n\n\tvar material = new ShaderMaterial( {\n\n\t\ttype: 'CubemapFromEquirect',\n\n\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tvar mesh = new Mesh( new BoxBufferGeometry( 5, 5, 5 ), material );\n\n\tscene.add( mesh );\n\n\tvar camera = new CubeCamera( 1, 10, 1 );\n\n\tcamera.renderTarget = this;\n\tcamera.renderTarget.texture.name = 'CubeCameraTexture';\n\n\tcamera.update( renderer, scene );\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nvar _sphere$1 = new Sphere();\nvar _vector$5 = new Vector3();\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromProjectionMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSprite: function ( sprite ) {\n\n\t\t_sphere$1.center.set( 0, 0, 0 );\n\t\t_sphere$1.radius = 0.7071067811865476;\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) return;\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.usage;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_maxMipLevel 8.0\\n#define cubeUV_minMipLevel 4.0\\n#define cubeUV_maxTileSize 256.0\\n#define cubeUV_minTileSize 16.0\\nfloat getFace(vec3 direction) {\\n    vec3 absDirection = abs(direction);\\n    float face = -1.0;\\n    if (absDirection.x > absDirection.z) {\\n      if (absDirection.x > absDirection.y)\\n        face = direction.x > 0.0 ? 0.0 : 3.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    } else {\\n      if (absDirection.z > absDirection.y)\\n        face = direction.z > 0.0 ? 2.0 : 5.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    }\\n    return face;\\n}\\nvec2 getUV(vec3 direction, float face) {\\n    vec2 uv;\\n    if (face == 0.0) {\\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 1.0) {\\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\\n    } else if (face == 2.0) {\\n      uv = direction.xy / abs(direction.z);\\n    } else if (face == 3.0) {\\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 4.0) {\\n      uv = direction.xz / abs(direction.y);\\n    } else {\\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\\n    }\\n    return 0.5 * (uv + 1.0);\\n}\\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\\n  float face = getFace(direction);\\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\\n  mipInt = max(mipInt, cubeUV_minMipLevel);\\n  float faceSize = exp2(mipInt);\\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\\n  vec2 f = fract(uv);\\n  uv += 0.5 - f;\\n  if (face > 2.0) {\\n    uv.y += faceSize;\\n    face -= 3.0;\\n  }\\n  uv.x += face * faceSize;\\n  if(mipInt < cubeUV_maxMipLevel){\\n    uv.y += 2.0 * cubeUV_maxTileSize;\\n  }\\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\\n  uv *= texelSize;\\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x += texelSize;\\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.y += texelSize;\\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x -= texelSize;\\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  vec3 tm = mix(tl, tr, f.x);\\n  vec3 bm = mix(bl, br, f.x);\\n  return mix(tm, bm, f.y);\\n}\\n#define r0 1.0\\n#define v0 0.339\\n#define m0 -2.0\\n#define r1 0.8\\n#define v1 0.276\\n#define m1 -1.0\\n#define r4 0.4\\n#define v4 0.046\\n#define m4 2.0\\n#define r5 0.305\\n#define v5 0.016\\n#define m5 3.0\\n#define r6 0.21\\n#define v6 0.0038\\n#define m6 4.0\\nfloat roughnessToMip(float roughness) {\\n  float mip = 0.0;\\n  if (roughness >= r1) {\\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\\n  } else if (roughness >= r4) {\\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\\n  } else if (roughness >= r5) {\\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\\n  } else if (roughness >= r6) {\\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\\n  } else {\\n    mip = -2.0 * log2(1.16 * roughness);  }\\n  return mip;\\n}\\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\\n  float mipF = fract(mip);\\n  float mipInt = floor(mip);\\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\\n  if (mipF == 0.0) {\\n    return vec4(color0, 1.0);\\n  } else {\\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\\n    return vec4(mix(color0, color1, mipF), 1.0);\\n  }\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\t\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t}  else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) { \\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_normalmap_pars_fragment = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_normalmap_pars_fragment: clearcoat_normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\ttransparency: { value: 0 },\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\tvar currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tvar xr = renderer.xr;\n\t\tvar session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLCubeRenderTarget ? background.texture : background;\n\n\t\t\tboxMesh.material.uniforms.envMap.value = texture;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = texture.isCubeTexture ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== texture.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tvar extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tvar isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( 34930 );\n\tvar maxVertexTextures = gl.getParameter( 35660 );\n\tvar maxTextureSize = gl.getParameter( 3379 );\n\tvar maxCubemapSize = gl.getParameter( 34076 );\n\n\tvar maxAttributes = gl.getParameter( 34921 );\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\n\tvar maxVaryings = gl.getParameter( 36348 );\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tvar maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = new WeakMap();\n\tvar wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries.delete( geometry );\n\n\t\tvar attribute = wireframeAttributes.get( buffergeometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( buffergeometry );\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries.set( geometry, buffergeometry );\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryPosition = geometry.attributes.position;\n\t\tvar version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\tattributes.update( attribute, 34963 );\n\n\t\t//\n\n\t\tvar previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tvar geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tvar extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tvar length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.deleteAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tvar morphInfluencesSum = 0;\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tmorphInfluencesSum += value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tvar morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction DataTexture2DArray( data, width, height, depth ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture2dArray = new DataTexture2DArray();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// uint\n\nfunction setValueV1ui( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tvar n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tvar status = gl.getShaderParameter( shader, 35713 );\n\tvar log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tvar source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tvar chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nvar includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tvar string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nvar loopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string.replace( loopPattern, loopReplacer );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tvar string = '';\n\n\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[ i \\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tvar precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n\tif ( parameters.precision === \"highp\" ) {\n\n\t\tprecisionstring += \"\\n#define HIGH_PRECISION\";\n\n\t} else if ( parameters.precision === \"mediump\" ) {\n\n\t\tprecisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n\t} else if ( parameters.precision === \"lowp\" ) {\n\n\t\tprecisionstring += \"\\n#define LOW_PRECISION\";\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters ) {\n\n\tvar gl = renderer.getContext();\n\n\tvar defines = parameters.defines;\n\n\tvar vertexShader = parameters.vertexShader;\n\tvar fragmentShader = parameters.fragmentShader;\n\tvar shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tvar envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tvar envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tvar envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tvar customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tvar customDefines = generateDefines( defines );\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tvar numMultiviewViews = parameters.numMultiviewViews;\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t' attribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding || parameters.lightMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMapEncoding ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && ! parameters.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( parameters.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t\t// Multiview\n\n\t\tif ( numMultiviewViews > 0 ) {\n\n\t\t\tprefixVertex = prefixVertex.replace(\n\t\t\t\t'#version 300 es\\n',\n\t\t\t\t[\n\t\t\t\t\t'#version 300 es\\n',\n\t\t\t\t\t'#extension GL_OVR_multiview2 : require',\n\t\t\t\t\t'layout(num_views = ' + numMultiviewViews + ') in;',\n\t\t\t\t\t'#define VIEW_ID gl_ViewID_OVR'\n\t\t\t\t].join( '\\n' )\n\t\t\t);\n\n\t\t\tprefixVertex = prefixVertex.replace(\n\t\t\t\t[\n\t\t\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t\t\t'uniform mat3 normalMatrix;'\n\t\t\t\t].join( '\\n' ),\n\t\t\t\t[\n\t\t\t\t\t'uniform mat4 modelViewMatrices[' + numMultiviewViews + '];',\n\t\t\t\t\t'uniform mat4 projectionMatrices[' + numMultiviewViews + '];',\n\t\t\t\t\t'uniform mat4 viewMatrices[' + numMultiviewViews + '];',\n\t\t\t\t\t'uniform mat3 normalMatrices[' + numMultiviewViews + '];',\n\n\t\t\t\t\t'#define modelViewMatrix modelViewMatrices[VIEW_ID]',\n\t\t\t\t\t'#define projectionMatrix projectionMatrices[VIEW_ID]',\n\t\t\t\t\t'#define viewMatrix viewMatrices[VIEW_ID]',\n\t\t\t\t\t'#define normalMatrix normalMatrices[VIEW_ID]'\n\t\t\t\t].join( '\\n' )\n\t\t\t);\n\n\t\t\tprefixFragment = prefixFragment.replace(\n\t\t\t\t'#version 300 es\\n',\n\t\t\t\t[\n\t\t\t\t\t'#version 300 es\\n',\n\t\t\t\t\t'#extension GL_OVR_multiview2 : require',\n\t\t\t\t\t'#define VIEW_ID gl_ViewID_OVR'\n\t\t\t\t].join( '\\n' )\n\t\t\t);\n\n\t\t\tprefixFragment = prefixFragment.replace(\n\t\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t\t[\n\t\t\t\t\t'uniform mat4 viewMatrices[' + numMultiviewViews + '];',\n\t\t\t\t\t'#define viewMatrix viewMatrices[VIEW_ID]'\n\t\t\t\t].join( '\\n' )\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tvar runnable = true;\n\t\tvar haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tvar vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tvar fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\tthis.numMultiviewViews = numMultiviewViews;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\tvar logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tvar floatVertexTextures = capabilities.floatVertexTextures;\n\tvar precision = capabilities.precision;\n\tvar maxVertexUniforms = capabilities.maxVertexUniforms;\n\tvar vertexTextures = capabilities.vertexTextures;\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\", \"numMultiviewViews\",\n\t\t\"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n\t\t\"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n\t\t\"sheen\"\n\t];\n\n\tfunction getShaderObject( material, shaderID ) {\n\n\t\tvar shaderobject;\n\n\t\tif ( shaderID ) {\n\n\t\t\tvar shader = ShaderLib[ shaderID ];\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.type,\n\t\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.type,\n\t\t\t\tuniforms: material.uniforms,\n\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t};\n\n\t\t}\n\n\t\treturn shaderobject;\n\n\t}\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, scene, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar fog = scene.fog;\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tvar envMap = material.envMap || environment;\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar shaderobject = getShaderObject( material, shaderID );\n\t\tmaterial.onBeforeCompile( shaderobject, renderer );\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\t\tvar numMultiviewViews = currentRenderTarget && currentRenderTarget.isWebGLMultiviewRenderTarget ? currentRenderTarget.numViews : 0;\n\n\t\tvar parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: shaderobject.name,\n\n\t\t\tuniforms: shaderobject.uniforms,\n\t\t\tvertexShader: shaderobject.vertexShader,\n\t\t\tfragmentShader: shaderobject.fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial,\n\t\t\tisShaderMaterial: material.isShaderMaterial,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\tnumMultiviewViews: numMultiviewViews,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.displacementMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.frawbuffers,\n\t\t\textensionDrawbuffers: material.extensions && material.extensions.drawbuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.get( 'EXT_frag_depth' ) !== null,\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.get( 'WEBGL_draw_buffers' ) !== null,\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) !== null,\n\n\t\t\tonBeforeCompile: material.onBeforeCompile\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCacheKey = function ( parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( var name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === undefined ) {\n\n\t\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.onBeforeCompile.toString() );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( parameters, cacheKey ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tvar defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tlists.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists.get( scene );\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nvar nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1,\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: [],\n\n\t\tnumDirectionalShadows: - 1,\n\t\tnumPointShadows: - 1,\n\t\tnumSpotShadows: - 1\n\n\t};\n\n\tfor ( var i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar numDirectionalShadows = 0;\n\t\tvar numPointShadows = 0;\n\t\tvar numSpotShadows = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( var j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tvar hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\trenderStates.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates.set( scene, new WeakMap() );\n\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = sqrt( squared_mean - mean * mean );\\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tvar shadowMaterialHorizonal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n\tvar fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t\"position\",\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tvar fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tvar currentRenderTarget = _renderer.getRenderTarget();\n\t\tvar activeCubeFace = _renderer.getActiveCubeFace();\n\t\tvar activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tvar shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has shadow exceeding max texture size, reducing' );\n\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tvar viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( var vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tvar viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tvar geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizonal pass\n\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tvar material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tvar material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar getMaterialVariant = getDepthMaterialVariant;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tif ( geometry.isBufferGeometry === true ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry.isGeometry === true ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( 35661 );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tvar equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tvar extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tvar factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tvar stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\tvar maxTextures = capabilities.maxTextures;\n\tvar maxCubemapSize = capabilities.maxCubemapSize;\n\tvar maxTextureSize = capabilities.maxTextureSize;\n\tvar maxSamples = capabilities.maxSamples;\n\n\tvar _videoTextures = new WeakMap();\n\tvar _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tvar useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( \"2d\" ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tvar scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tvar floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tvar width = floor( scale * image.width );\n\t\t\t\tvar height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tvar canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tvar internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t} else if ( internalFormat === 34843 || internalFormat === 34837 ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLMultiviewRenderTarget ) {\n\n\t\t\t_gl.deleteTexture( renderTargetProperties.__webglColorTexture );\n\t\t\t_gl.deleteTexture( renderTargetProperties.__webglDepthStencilTexture );\n\n\t\t\tinfo.memory.textures -= 2;\n\n\t\t\tfor ( var i = 0, il = renderTargetProperties.__webglViewFramebuffers.length; i < il; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglViewFramebuffers[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tvar textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tvar textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tinitTexture( textureProperties, texture );\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\tvar isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tvar cubeImage = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tvar mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tvar mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t} else {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tvar wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tvar filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tvar supportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( isWebGL2 === false ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t} else if ( isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = 33189;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tvar isMultiview = ( renderTarget.isWebGLMultiviewRenderTarget === true );\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( isMultiview ) {\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar numViews = renderTarget.numViews;\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar ext = extensions.get( 'OVR_multiview2' );\n\n\t\t\t\tinfo.memory.textures += 2;\n\n\t\t\t\tvar colorTexture = _gl.createTexture();\n\t\t\t\t_gl.bindTexture( 35866, colorTexture );\n\t\t\t\t_gl.texParameteri( 35866, 10240, 9728 );\n\t\t\t\t_gl.texParameteri( 35866, 10241, 9728 );\n\t\t\t\t_gl.texImage3D( 35866, 0, 32856, width, height, numViews, 0, 6408, 5121, null );\n\t\t\t\text.framebufferTextureMultiviewOVR( 36160, 36064, colorTexture, 0, 0, numViews );\n\n\t\t\t\tvar depthStencilTexture = _gl.createTexture();\n\t\t\t\t_gl.bindTexture( 35866, depthStencilTexture );\n\t\t\t\t_gl.texParameteri( 35866, 10240, 9728 );\n\t\t\t\t_gl.texParameteri( 35866, 10241, 9728 );\n\t\t\t\t_gl.texImage3D( 35866, 0, 35056, width, height, numViews, 0, 34041, 34042, null );\n\t\t\t\text.framebufferTextureMultiviewOVR( 36160, 33306, depthStencilTexture, 0, 0, numViews );\n\n\t\t\t\tvar viewFramebuffers = new Array( numViews );\n\t\t\t\tfor ( var i = 0; i < numViews; ++ i ) {\n\n\t\t\t\t\tviewFramebuffers[ i ] = _gl.createFramebuffer();\n\t\t\t\t\t_gl.bindFramebuffer( 36160, viewFramebuffers[ i ] );\n\t\t\t\t\t_gl.framebufferTextureLayer( 36160, 36064, colorTexture, 0, i );\n\n\t\t\t\t}\n\n\t\t\t\trenderTargetProperties.__webglColorTexture = colorTexture;\n\t\t\t\trenderTargetProperties.__webglDepthStencilTexture = depthStencilTexture;\n\t\t\t\trenderTargetProperties.__webglViewFramebuffers = viewFramebuffers;\n\n\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\t\t\t\t_gl.bindTexture( 35866, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else if ( ! isMultiview ) {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tvar warnedTexture2D = false;\n\tvar warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\t// currently relying on the fact that WebGLCubeRenderTarget.texture is a Texture and NOT a CubeTexture\n\t\t// TODO: unify these code paths\n\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t// this function alone should take care of cube textures\n\t\t\tsetTextureCube( texture, slot );\n\n\t\t} else {\n\n\t\t\t// assumed: texture property of THREE.WebGLCubeRenderTarget\n\t\t\tsetTextureCubeDynamic( texture, slot );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author fernandojsg / http://fernandojsg.com\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction WebGLMultiviewRenderTarget( width, height, numViews, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.depthBuffer = false;\n\tthis.stencilBuffer = false;\n\n\tthis.numViews = numViews;\n\n}\n\nWebGLMultiviewRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultiviewRenderTarget,\n\n\tisWebGLMultiviewRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.numViews = source.numViews;\n\n\t\treturn this;\n\n\t},\n\n\tsetNumViews: function ( numViews ) {\n\n\t\tif ( this.numViews !== numViews ) {\n\n\t\t\tthis.numViews = numViews;\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author fernandojsg / http://fernandojsg.com\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction WebGLMultiview( renderer, gl ) {\n\n\tvar DEFAULT_NUMVIEWS = 2;\n\n\tvar extensions = renderer.extensions;\n\tvar properties = renderer.properties;\n\n\tvar renderTarget, currentRenderTarget;\n\tvar mat3, mat4, cameraArray, renderSize;\n\n\tvar available;\n\tvar maxNumViews = 0;\n\n\t//\n\n\tfunction isAvailable() {\n\n\t\tif ( available === undefined ) {\n\n\t\t\tvar extension = extensions.get( 'OVR_multiview2' );\n\n\t\t\tavailable = extension !== null && gl.getContextAttributes().antialias === false;\n\n\t\t\tif ( available ) {\n\n\t\t\t\tmaxNumViews = gl.getParameter( extension.MAX_VIEWS_OVR );\n\t\t\t\trenderTarget = new WebGLMultiviewRenderTarget( 0, 0, DEFAULT_NUMVIEWS );\n\n\t\t\t\trenderSize = new Vector2();\n\t\t\t\tmat4 = [];\n\t\t\t\tmat3 = [];\n\t\t\t\tcameraArray = [];\n\n\t\t\t\tfor ( var i = 0; i < maxNumViews; i ++ ) {\n\n\t\t\t\t\tmat4[ i ] = new Matrix4();\n\t\t\t\t\tmat3[ i ] = new Matrix3();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn available;\n\n\t}\n\n\tfunction getCameraArray( camera ) {\n\n\t\tif ( camera.isArrayCamera ) return camera.cameras;\n\n\t\tcameraArray[ 0 ] = camera;\n\n\t\treturn cameraArray;\n\n\t}\n\n\tfunction updateCameraProjectionMatricesUniform( camera, uniforms ) {\n\n\t\tvar cameras = getCameraArray( camera );\n\n\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tmat4[ i ].copy( cameras[ i ].projectionMatrix );\n\n\t\t}\n\n\t\tuniforms.setValue( gl, 'projectionMatrices', mat4 );\n\n\t}\n\n\tfunction updateCameraViewMatricesUniform( camera, uniforms ) {\n\n\t\tvar cameras = getCameraArray( camera );\n\n\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tmat4[ i ].copy( cameras[ i ].matrixWorldInverse );\n\n\t\t}\n\n\t\tuniforms.setValue( gl, 'viewMatrices', mat4 );\n\n\t}\n\n\tfunction updateObjectMatricesUniforms( object, camera, uniforms ) {\n\n\t\tvar cameras = getCameraArray( camera );\n\n\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tmat4[ i ].multiplyMatrices( cameras[ i ].matrixWorldInverse, object.matrixWorld );\n\t\t\tmat3[ i ].getNormalMatrix( mat4[ i ] );\n\n\t\t}\n\n\t\tuniforms.setValue( gl, 'modelViewMatrices', mat4 );\n\t\tuniforms.setValue( gl, 'normalMatrices', mat3 );\n\n\t}\n\n\tfunction isMultiviewCompatible( camera ) {\n\n\t\tif ( camera.isArrayCamera === undefined ) return true;\n\n\t\tvar cameras = camera.cameras;\n\n\t\tif ( cameras.length > maxNumViews ) return false;\n\n\t\tfor ( var i = 1, il = cameras.length; i < il; i ++ ) {\n\n\t\t\tif ( cameras[ 0 ].viewport.z !== cameras[ i ].viewport.z ||\n\t\t\t\tcameras[ 0 ].viewport.w !== cameras[ i ].viewport.w ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfunction resizeRenderTarget( camera ) {\n\n\t\tif ( currentRenderTarget ) {\n\n\t\t\trenderSize.set( currentRenderTarget.width, currentRenderTarget.height );\n\n\t\t} else {\n\n\t\t\trenderer.getDrawingBufferSize( renderSize );\n\n\t\t}\n\n\t\tif ( camera.isArrayCamera ) {\n\n\t\t\tvar viewport = camera.cameras[ 0 ].viewport;\n\n\t\t\trenderTarget.setSize( viewport.z, viewport.w );\n\t\t\trenderTarget.setNumViews( camera.cameras.length );\n\n\t\t} else {\n\n\t\t\trenderTarget.setSize( renderSize.x, renderSize.y );\n\t\t\trenderTarget.setNumViews( DEFAULT_NUMVIEWS );\n\n\t\t}\n\n\t}\n\n\tfunction attachCamera( camera ) {\n\n\t\tif ( isMultiviewCompatible( camera ) === false ) return;\n\n\t\tcurrentRenderTarget = renderer.getRenderTarget();\n\t\tresizeRenderTarget( camera );\n\t\trenderer.setRenderTarget( renderTarget );\n\n\t}\n\n\tfunction detachCamera( camera ) {\n\n\t\tif ( renderTarget !== renderer.getRenderTarget() ) return;\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\tflush( camera );\n\n\t}\n\n\tfunction flush( camera ) {\n\n\t\tvar srcRenderTarget = renderTarget;\n\t\tvar numViews = srcRenderTarget.numViews;\n\n\t\tvar srcFramebuffers = properties.get( srcRenderTarget ).__webglViewFramebuffers;\n\n\t\tvar viewWidth = srcRenderTarget.width;\n\t\tvar viewHeight = srcRenderTarget.height;\n\n\t\tif ( camera.isArrayCamera ) {\n\n\t\t\tfor ( var i = 0; i < numViews; i ++ ) {\n\n\t\t\t\tvar viewport = camera.cameras[ i ].viewport;\n\n\t\t\t\tvar x1 = viewport.x;\n\t\t\t\tvar y1 = viewport.y;\n\t\t\t\tvar x2 = x1 + viewport.z;\n\t\t\t\tvar y2 = y1 + viewport.w;\n\n\t\t\t\tgl.bindFramebuffer( 36008, srcFramebuffers[ i ] );\n\t\t\t\tgl.blitFramebuffer( 0, 0, viewWidth, viewHeight, x1, y1, x2, y2, 16384, 9728 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl.bindFramebuffer( 36008, srcFramebuffers[ 0 ] );\n\t\t\tgl.blitFramebuffer( 0, 0, viewWidth, viewHeight, 0, 0, renderSize.x, renderSize.y, 16384, 9728 );\n\n\t\t}\n\n\t}\n\n\tthis.isAvailable = isAvailable;\n\tthis.attachCamera = attachCamera;\n\tthis.detachCamera = detachCamera;\n\tthis.updateCameraProjectionMatricesUniform = updateCameraProjectionMatricesUniform;\n\tthis.updateCameraViewMatricesUniform = updateCameraViewMatricesUniform;\n\tthis.updateObjectMatricesUniforms = updateObjectMatricesUniforms;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer, gl ) {\n\n\tvar scope = this;\n\n\tvar session = null;\n\n\t// var framebufferScaleFactor = 1.0;\n\n\tvar referenceSpace = null;\n\tvar referenceSpaceType = 'local-floor';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSourcesMap = new Map();\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\tvar _currentDepthNear = null;\n\tvar _currentDepthFar = null;\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.isPresenting = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = {};\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\tif ( controller.targetRay === undefined ) {\n\n\t\t\tcontroller.targetRay = new Group();\n\t\t\tcontroller.targetRay.matrixAutoUpdate = false;\n\t\t\tcontroller.targetRay.visible = false;\n\n\t\t}\n\n\t\treturn controller.targetRay;\n\n\t};\n\n\tthis.getControllerGrip = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = {};\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\tif ( controller.grip === undefined ) {\n\n\t\t\tcontroller.grip = new Group();\n\t\t\tcontroller.grip.matrixAutoUpdate = false;\n\t\t\tcontroller.grip.visible = false;\n\n\t\t}\n\n\t\treturn controller.grip;\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tvar controller = inputSourcesMap.get( event.inputSource );\n\n\t\tif ( controller ) {\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tcontroller.targetRay.visible = false;\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tcontroller.grip.visible = false;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tinputSourcesMap.clear();\n\n\t\t//\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t\tscope.isPresenting = false;\n\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t\tscope.isPresenting = true;\n\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( /* value */ ) {\n\n\t\t// framebufferScaleFactor = value;\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t};\n\n\tthis.getReferenceSpace = function () {\n\n\t\treturn referenceSpace;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tvar attributes = gl.getContextAttributes();\n\n\t\t\tvar layerInit = {\n\t\t\t\tantialias: attributes.antialias,\n\t\t\t\talpha: attributes.alpha,\n\t\t\t\tdepth: attributes.depth,\n\t\t\t\tstencil: attributes.stencil\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tvar baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tsession.addEventListener( 'inputsourceschange', updateInputSources );\n\n\t\t}\n\n\t};\n\n\tfunction updateInputSources( event ) {\n\n\t\tvar inputSources = session.inputSources;\n\n\t\t// Assign inputSources to available controllers\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t}\n\n\t\t// Notify disconnected\n\n\t\tfor ( var i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\tvar inputSource = event.removed[ i ];\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip ) {\n\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Notify connected\n\n\t\tfor ( var i = 0; i < event.added.length; i ++ ) {\n\n\t\t\tvar inputSource = event.added[ i ];\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip ) {\n\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar cameraLPos = new Vector3();\n\tvar cameraRPos = new Vector3();\n\n\t/**\n\t * @author jsantell / https://www.jsantell.com/\n\t *\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t * the cameras' projection and world matrices have already been set.\n\t * And that near and far planes are identical for both cameras.\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t */\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\tvar projL = cameraL.projectionMatrix.elements;\n\t\tvar projR = cameraR.projectionMatrix.elements;\n\n\t\t// VR systems will have identical far and near planes, and\n\t\t// most likely identical top and bottom frustum extents.\n\t\t// Use the left camera for these values.\n\t\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\tvar left = near * leftFov;\n\t\tvar right = near * rightFov;\n\n\t\t// Calculate the new camera's position offset from the\n\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\tvar zOffset = ipd / ( - leftFov + rightFov );\n\t\tvar xOffset = zOffset * - leftFov;\n\n\t\t// TODO: Better way to apply this offset?\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.translateX( xOffset );\n\t\tcamera.translateZ( zOffset );\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t// Find the union of the frustum values of the cameras and scale\n\t\t// the values so that the near plane's position does not change in world space,\n\t\t// although must now be relative to the new union camera.\n\t\tvar near2 = near + zOffset;\n\t\tvar far2 = far + zOffset;\n\t\tvar left2 = left - xOffset;\n\t\tvar right2 = right + ( ipd - xOffset );\n\t\tvar top2 = topFov * far / far2 * near2;\n\t\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t}\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\tsession.updateRenderState( {\n\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\tdepthFar: cameraVR.far\n\t\t\t} );\n\n\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t}\n\n\t\tvar parent = camera.parent;\n\t\tvar cameras = cameraVR.cameras;\n\n\t\tupdateCamera( cameraVR, parent );\n\n\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t}\n\n\t\t// update camera and its children\n\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\tvar children = camera.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t}\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\treturn cameraVR;\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar views = pose.views;\n\t\t\tvar baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = baseLayer.getViewport( view );\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar inputSources = session.inputSources;\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tvar inputPose = null;\n\t\t\tvar gripPose = null;\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\t\tcontroller.targetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\t\tcontroller.targetRay.matrix.decompose( controller.targetRay.position, controller.targetRay.rotation, controller.targetRay.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tcontroller.grip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tcontroller.grip.matrix.decompose( controller.grip.position, controller.grip.rotation, controller.grip.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.visible = inputPose !== null;\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.visible = gripPose !== null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n}\n\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentActiveCubeFace = 0,\n\t\t_currentActiveMipmapLevel = 0,\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\t\t_opaqueSort = null,\n\t\t_transparentSort = null,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\n\t\t\txrCompatible: true\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( capabilities.isWebGL2 === false ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tvar xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// Multiview\n\n\tvar multiview = new WebGLMultiview( _this, _gl );\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\txr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tvar tempScene = new Scene();\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = tempScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tvar frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tvar program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, geometry, material, program );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, geometry.maxInstancedCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( object, geometry, material, program ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tvar attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tvar compiled = {};\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tif ( object.material[ i ].uuid in compiled === false ) {\n\n\t\t\t\t\t\t\tinitMaterial( object.material[ i ], scene, object );\n\t\t\t\t\t\t\tcompiled[ object.material[ i ].uuid ] = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( object.material.uuid in compiled === false ) {\n\n\t\t\t\t\tinitMaterial( object.material, scene, object );\n\t\t\t\t\tcompiled[ object.material.uuid ] = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( xr.isPresenting ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tvar renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled && xr.isPresenting ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tif ( xr.enabled && multiview.isAvailable() ) {\n\n\t\t\tmultiview.attachCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tif ( xr.enabled ) {\n\n\t\t\tif ( multiview.isAvailable() ) {\n\n\t\t\t\tmultiview.detachCamera( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tif ( xr.enabled && multiview.isAvailable() ) {\n\n\t\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tvar program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, scene, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsStateVersion = lights.state.version;\n\n\t\tvar parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, _clipping.numPlanes, _clipping.numIntersection, object );\n\t\tvar programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.cacheKey !== programCacheKey ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\n\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.outputEncoding = _this.outputEncoding;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = scene.fog;\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\ttextures.resetTextureUnits();\n\n\t\tvar fog = scene.fog;\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.environment !== environment ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.outputEncoding !== _this.outputEncoding ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tinitMaterial( material, scene, object );\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tif ( program.numMultiviewViews > 0 ) {\n\n\t\t\t\tmultiview.updateCameraProjectionMatricesUniform( camera, p_uniforms );\n\n\t\t\t} else {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\t}\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tif ( program.numMultiviewViews > 0 ) {\n\n\t\t\t\t\tmultiview.updateCameraViewMatricesUniform( camera, p_uniforms );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material, environment );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material, environment );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material, environment );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value.copy( material.color );\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t\tif ( material.isShaderMaterial ) {\n\n\t\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tif ( program.numMultiviewViews > 0 ) {\n\n\t\t\tmultiview.updateObjectMatricesUniforms( object, camera, p_uniforms );\n\n\t\t} else {\n\n\t\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\n\t\t}\n\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material, environment ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tvar envMap = material.envMap || environment;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tvar uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material, environment ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap || environment ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, environment ) {\n\n\t\trefreshUniformsStandard( uniforms, material, environment );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transparency.value = material.transparency;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value && _currentRenderTarget === null ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace, activeMipmapLevel ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace || 0 ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + ( activeCubeFace || 0 ), textureProperties.__webglTexture, activeMipmapLevel || 0 );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tif ( level === undefined ) level = 0;\n\n\t\tvar levelScale = Math.pow( 2, - level );\n\t\tvar width = Math.floor( texture.image.width * levelScale );\n\t\tvar height = Math.floor( texture.image.height * levelScale );\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nObject.assign( FogExp2.prototype, {\n\n\tisFogExp2: true,\n\n\tclone: function () {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nObject.assign( Fog.prototype, {\n\n\tisFog: true,\n\n\tclone: function () {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nvar _vector$6 = new Vector3();\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _geometry;\n\nvar _intersectPoint = new Vector3();\nvar _worldScale = new Vector3();\nvar _mvPosition = new Vector3();\n\nvar _alignedPosition = new Vector2();\nvar _rotatedPosition = new Vector2();\nvar _viewWorldMatrix = new Matrix4();\n\nvar _vA$1 = new Vector3();\nvar _vB$1 = new Vector3();\nvar _vC$1 = new Vector3();\n\nvar _uvA$1 = new Vector2();\nvar _uvB$1 = new Vector2();\nvar _uvC$1 = new Vector2();\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( _geometry === undefined ) {\n\n\t\t_geometry = new BufferGeometry();\n\n\t\tvar float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = _geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tvar rotation = this.material.rotation;\n\t\tvar sin, cos;\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tvar center = this.center;\n\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA$1.set( 0, 0 );\n\t\t_uvB$1.set( 1, 0 );\n\t\t_uvC$1.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tvar intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB$1.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\treturn this;\n\n\t}\n\n\n} );\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v1$4 = new Vector3();\nvar _v2$2 = new Vector3();\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n\tthis.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( _v1$4 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t},\n\n\tupdate: function ( camera ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = _v1$4.distanceTo( _v2$2 );\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar vector = new Vector4();\n\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nvar _offsetMatrix = new Matrix4();\nvar _identityMatrix = new Matrix4();\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\tthis.frame = - 1;\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: function () {\n\n\t\tvar bones = this.bones;\n\t\tvar boneInverses = this.boneInverses;\n\t\tvar boneMatrices = this.boneMatrices;\n\t\tvar boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== undefined ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _instanceLocalMatrix = new Matrix4();\nvar _instanceWorldMatrix = new Matrix4();\n\nvar _instanceIntersects = [];\n\nvar _mesh = new Mesh();\n\nfunction InstancedMesh( geometry, material, count ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\n\tthis.count = count;\n\n\tthis.frustumCulled = false;\n\n}\n\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: InstancedMesh,\n\n\tisInstancedMesh: true,\n\n\tgetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( var instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tif ( _instanceIntersects.length > 0 ) {\n\n\t\t\t\t_instanceIntersects[ 0 ].instanceId = instanceId;\n\t\t\t\t_instanceIntersects[ 0 ].object = this;\n\n\t\t\t\tintersects.push( _instanceIntersects[ 0 ] );\n\n\t\t\t\t_instanceIntersects.length = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tsetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start = new Vector3();\nvar _end = new Vector3();\nvar _inverseMatrix$1 = new Matrix4();\nvar _ray$1 = new Ray();\nvar _sphere$2 = new Sphere();\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial();\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar precision = raycaster.linePrecision;\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\t\t_sphere$2.radius += precision;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.getInverse( matrixWorld );\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tvar localPrecision = precision / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localPrecisionSq = localPrecision * localPrecision;\n\n\t\tvar vStart = new Vector3();\n\t\tvar vEnd = new Vector3();\n\t\tvar interSegment = new Vector3();\n\t\tvar interRay = new Vector3();\n\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar nbVertices = vertices.length;\n\n\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start$1 = new Vector3();\nvar _end$1 = new Vector3();\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [];\n\n\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t_start$1.copy( vertices[ i ] );\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _inverseMatrix$2 = new Matrix4();\nvar _ray$2 = new Ray();\nvar _sphere$3 = new Sphere();\nvar _position$1 = new Vector3();\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\t\t_sphere$3.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.getInverse( matrixWorld );\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t_position$1.fromArray( positions, a * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t_position$1.fromArray( positions, i * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar vertices = geometry.vertices;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tvar rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tvar intersectPoint = new Vector3();\n\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tvar video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tapplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction applyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\nTubeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tdata.path = this.parameters.path.toJSON();\n\n\treturn data;\n\n};\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.1.5)\n */\n\nvar Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tvar hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tvar i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tvar p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tvar stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tvar p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tvar p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tvar a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn p;\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tvar a = start;\n\tdo {\n\n\t\tvar b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tvar c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tvar queue = [],\n\t\ti, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tvar b = splitPolygon( outerNode, hole );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tvar p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tvar stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m.next;\n\n\twhile ( p !== stop ) {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn m;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tvar i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tvar p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t   ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t   ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\n\t\t   locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tif ( ( equals( p1, p2 ) && equals( q1, q2 ) ) ||\n\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\n\t\t   area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tvar p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tvar p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tvar a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tvar p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tvar sum = 0;\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tvar holeIndices = []; // array of hole indices\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tvar holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tvar l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( var i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tvar scope = this;\n\n\tvar verticesArray = [];\n\tvar uvArray = [];\n\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tvar shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar placeholder = [];\n\n\t\t// options\n\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tvar bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tvar extrudePath = options.extrudePath;\n\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tvar extrudePts, extrudeByPath = false;\n\t\tvar splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\t\t\tbevelOffset = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tvar ahole, h, hl; // looping of holes\n\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tvar contourMovements = [];\n\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tvar holesMovements = [],\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tbs = bevelSize + bevelOffset;\n\n\t\t// Back facing vertices\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tvar s;\n\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tvar s = 0,\n\t\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nvar WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\t// special case for the poles\n\n\t\tvar uOffset = 0;\n\n\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t}\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.copy( vertex ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t}\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 1.0;\n\tthis.metalness = 0.0;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n *  clearcoat: <float>\n *  clearcoatRoughness: <float>\n *\n *  sheen: <Color>\n *\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearcoat = 0.0;\n\tthis.clearcoatRoughness = 0.0;\n\n\tthis.sheen = null; // null will disable sheen bsdf\n\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\tthis.clearcoatNormalMap = null;\n\n\tthis.transparency = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearcoat = source.clearcoat;\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\n\tif ( source.sheen ) this.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\telse this.sheen = null;\n\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\tthis.transparency = source.transparency;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\tthis.gradientMap = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( Material.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\tthis.gradientMap = source.gradientMap;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps ) {\n\n\t\tfps = fps || 30;\n\n\t\tvar clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tvar track = clip.tracks[ i ];\n\t\t\tvar valueSize = track.getValueSize();\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\tfor ( var j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tvar frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( var k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tvar minStartTime = Infinity;\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tvar times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tvar values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tvar TypedKeyframeTrack = this.constructor;\n\t\tvar track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tvar times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\tvar handlers = [];\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t\treturn this;\n\n\t};\n\n\tthis.addHandler = function ( regex, loader ) {\n\n\t\thandlers.push( regex, loader );\n\n\t\treturn this;\n\n\t};\n\n\tthis.removeHandler = function ( regex ) {\n\n\t\tvar index = handlers.indexOf( regex );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\thandlers.splice( index, 2 );\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.getHandler = function ( file ) {\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.crossOrigin = 'anonymous';\n\tthis.path = '';\n\tthis.resourcePath = '';\n\n}\n\nObject.assign( Loader.prototype, {\n\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\n\n\tparse: function ( /* data */ ) {},\n\n\tsetCrossOrigin: function ( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FileLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = this.response;\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AnimationLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CompressedTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DataTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CubeTextureLoader,\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\n\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.mapPass = null;\n\tthis.matrix = new Matrix4();\n\n\tthis._frustum = new Frustum();\n\tthis._frameExtents = new Vector2( 1, 1 );\n\n\tthis._viewportCount = 1;\n\n\tthis._viewports = [\n\n\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t];\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\t_projScreenMatrix: new Matrix4(),\n\n\t_lightPositionWorld: new Vector3(),\n\n\t_lookTarget: new Vector3(),\n\n\tgetViewportCount: function () {\n\n\t\treturn this._viewportCount;\n\n\t},\n\n\tgetFrustum: function () {\n\n\t\treturn this._frustum;\n\n\t},\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar shadowCamera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tlightPositionWorld = this._lightPositionWorld;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( lookTarget );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t},\n\n\tgetViewport: function ( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t},\n\n\tgetFrameExtents: function () {\n\n\t\treturn this._frameExtents;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = MathUtils.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction PointLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\tthis._frameExtents = new Vector2( 4, 2 );\n\n\tthis._viewportCount = 6;\n\n\tthis._viewports = [\n\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t// following orientation:\n\t\t//\n\t\t//  xzXZ\n\t\t//   y Y\n\t\t//\n\t\t// X - Positive x direction\n\t\t// x - Negative x direction\n\t\t// Y - Positive y direction\n\t\t// y - Negative y direction\n\t\t// Z - Positive z direction\n\t\t// z - Negative z direction\n\n\t\t// positive X\n\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t// negative X\n\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t// positive Z\n\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t// negative Z\n\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t// positive Y\n\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t// negative Y\n\t\tnew Vector4( 1, 0, 1, 1 )\n\t];\n\n\tthis._cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tthis._cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n}\n\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: PointLightShadow,\n\n\tisPointLightShadow: true,\n\n\tupdateMatrices: function ( light, viewportIndex ) {\n\n\t\tif ( viewportIndex === undefined ) viewportIndex = 0;\n\n\t\tvar camera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tlightPositionWorld = this._lightPositionWorld,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.copy( camera.position );\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\n\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow() {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow,\n\n\tisDirectionalLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MaterialLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( var name in json.uniforms ) {\n\n\t\t\t\tvar uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( var key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) {\n\n\t\t\tmaterial.alphaMap = getTexture( json.alphaMap );\n\t\t\tmaterial.transparent = true;\n\n\t\t}\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\treturn material;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.maxInstancedCount = this.maxInstancedCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tvar data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: BufferGeometryLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\tvar bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\tvar bufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tvar morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( var key in morphAttributes ) {\n\n\t\t\t\tvar attributeArray = morphAttributes[ key ];\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar attribute = attributeArray[ i ];\n\t\t\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\t\t\tvar bufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nObjectLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ObjectLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tif ( 'THREE' in window && 'LegacyJSONLoader' in THREE ) {\n\n\t\t\t\t\t\t\tvar geometryLoader = new THREE.LegacyJSONLoader();\n\t\t\t\t\t\t\tgeometry = geometryLoader.parse( data, this.resourcePath ).geometry;\n\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\t\t\t\tvar count = data.count;\n\t\t\t\tvar instanceMatrix = data.instanceMatrix;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tLoader.call( this, manager );\n\n\tthis.options = undefined;\n\n}\n\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageBitmapLoader,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\tif ( scope.options === undefined ) {\n\n\t\t\t\t// Workaround for FireFox. It causes an error if you pass options.\n\t\t\t\treturn createImageBitmap( blob );\n\n\t\t\t} else {\n\n\t\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t\t}\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tvar shapes = [];\n\t\tvar paths = createPaths( text, size, this.data );\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // workaround for IE11, see #13988\n\tvar scale = size / data.resolution;\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tvar paths = [];\n\n\tvar offsetX = 0, offsetY = 0;\n\n\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\tvar char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tvar path = new ShapePath();\n\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\tvar action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FontLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AudioLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\tvar bufferCopy = buffer.slice( 0 );\n\n\t\t\tvar context = AudioContext.getContext();\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nfunction SphericalHarmonics3() {\n\n\tthis.coefficients = [];\n\n\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\tthis.coefficients.push( new Vector3() );\n\n\t}\n\n}\n\nObject.assign( SphericalHarmonics3.prototype, {\n\n\tisSphericalHarmonics3: true,\n\n\tset: function ( coefficients ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tzero: function () {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScale( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScale( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScale( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScale( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScale( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScale( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t},\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScale( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScale( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScale( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScale( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScale( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScale( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t},\n\n\tadd: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tscale: function ( s ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( sh, alpha ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcopy: function ( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n} );\n\nObject.assign( SphericalHarmonics3, {\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tgetBasisAt: function ( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * A LightProbe is a source of indirect-diffuse light\n */\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( skyColor );\n\tvar color2 = new Color().set( groundColor );\n\n\tvar sky = new Vector3( color1.r, color1.g, color1.b );\n\tvar ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tvar c0 = Math.sqrt( Math.PI );\n\tvar c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nvar _eyeRight = new Matrix4();\nvar _eyeLeft = new Matrix4();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n\tthis._cache = {\n\t\tfocus: null,\n\t\tfov: null,\n\t\taspect: null,\n\t\tnear: null,\n\t\tfar: null,\n\t\tzoom: null,\n\t\teyeSep: null\n\t};\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: function ( camera ) {\n\n\t\tvar cache = this._cache;\n\n\t\tvar needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tvar eyeSepHalf = cache.eyeSep / 2;\n\t\t\tvar eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tvar ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tvar xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$2 = new Vector3();\nvar _quaternion$3 = new Quaternion();\nvar _scale$1 = new Vector3();\nvar _orientation = new Vector3();\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n\t// private\n\n\tthis._clock = new Clock();\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tvar listener = this.context.listener;\n\t\tvar up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.loopStart = 0;\n\tthis.loopEnd = 0;\n\tthis.offset = 0;\n\tthis.duration = undefined;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis._startedAt = 0;\n\tthis._pausedAt = 0;\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaStreamSource: function ( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function ( delay ) {\n\n\t\tif ( delay === undefined ) delay = 0;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tvar source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._pausedAt + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis._pausedAt = ( this.context.currentTime - this._startedAt ) * this.playbackRate;\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._pausedAt = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopStart: function ( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopEnd: function ( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$3 = new Vector3();\nvar _quaternion$4 = new Quaternion();\nvar _scale$2 = new Vector3();\nvar _orientation$1 = new Vector3();\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.panningModel = 'HRTF';\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\n\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\n\n\t\tvar panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nvar _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nvar _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nvar _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nvar _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nvar _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nvar _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nvar _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nvar _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nvar _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nvar _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t},\n\n\tparseTrackName: function ( trackName ) {\n\n\t\tvar matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tvar results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t},\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length,\n\t\t\tknownObject = undefined;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\t\tvar duration = this._clip.duration;\n\t\tvar loop = this.loop;\n\t\tvar loopCount = this._loopCount;\n\n\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime: function ( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( var i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\tthis.camera = null;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) return;\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector$7 = new Vector2();\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$7.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$7.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _startP = new Vector3();\nvar _startEnd = new Vector3();\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function ( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tvar startEnd2 = _startEnd.dot( _startEnd );\n\t\tvar startEnd_startP = _startEnd.dot( _startP );\n\n\t\tvar t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t},\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector$8 = new Vector3();\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tthis.light.updateMatrixWorld();\n\n\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t_vector$8.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\tthis.cone.lookAt( _vector$8 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.cone.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.cone.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$9 = new Vector3();\nvar _boneMatrix = new Matrix4();\nvar _matrixWorldInv = new Matrix4();\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar bones = this.bones;\n\n\tvar geometry = this.geometry;\n\tvar position = geometry.getAttribute( 'position' );\n\n\t_matrixWorldInv.getInverse( this.root.matrixWorld );\n\n\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j + 1, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\tj += 2;\n\n\t\t}\n\n\t}\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$a = new Vector3();\nvar _color1 = new Color();\nvar _color2 = new Color();\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar mesh = this.children[ 0 ];\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t_color1.copy( this.light.color );\n\t\t_color2.copy( this.light.groundColor );\n\n\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\tvar color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t}\n\n\t\tcolors.needsUpdate = true;\n\n\t}\n\n\tmesh.lookAt( _vector$a.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.assign( Object.create( LineSegments.prototype ), {\n\n\tconstructor: GridHelper,\n\n\tcopy: function ( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _v1$5 = new Vector3();\nvar _v2$3 = new Vector3();\nvar _v3$1 = new Vector3();\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\t_v1$5.setFromMatrixPosition( this.light.matrixWorld );\n\t_v2$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\t_v3$1.subVectors( _v2$3, _v1$5 );\n\n\tthis.lightPlane.lookAt( _v2$3 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.lightPlane.material.color.set( this.color );\n\t\tthis.targetLine.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t}\n\n\tthis.targetLine.lookAt( _v2$3 );\n\tthis.targetLine.scale.z = _v3$1.length();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nvar _vector$b = new Vector3();\nvar _camera = new Camera();\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry = this.geometry;\n\tvar pointMap = this.pointMap;\n\n\tvar w = 1, h = 1;\n\n\t// we need just camera projection matrix inverse\n\t// world matrix must be identity\n\n\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t// center / target\n\n\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t// near\n\n\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t// far\n\n\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t// up\n\n\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t// cross\n\n\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n};\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector$b.set( x, y, z ).unproject( camera );\n\n\tvar points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector$b.x, _vector$b.y, _vector$b.z );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nvar _box$3 = new Box3();\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = function ( object ) {\n\n\tif ( object !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t}\n\n\tif ( this.object !== undefined ) {\n\n\t\t_box$3.setFromObject( this.object );\n\n\t}\n\n\tif ( _box$3.isEmpty() ) return;\n\n\tvar min = _box$3.min;\n\tvar max = _box$3.max;\n\n\t/*\n\t  5____4\n\t1/___0/|\n\t| 6__|_7\n\t2/___3/\n\n\t0: max.x, max.y, max.z\n\t1: min.x, max.y, max.z\n\t2: min.x, min.y, max.z\n\t3: max.x, min.y, max.z\n\t4: max.x, max.y, min.z\n\t5: min.x, max.y, min.z\n\t6: min.x, min.y, min.z\n\t7: max.x, min.y, min.z\n\t*/\n\n\tvar position = this.geometry.attributes.position;\n\tvar array = position.array;\n\n\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\tposition.needsUpdate = true;\n\n\tthis.geometry.computeBoundingSphere();\n\n\n};\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, color ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tcolor = color || 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar _axis = new Vector3();\nvar _lineGeometry, _coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( _lineGeometry === undefined ) {\n\n\t\t_lineGeometry = new BufferGeometry();\n\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = function ( dir ) {\n\n\t// dir is assumed to be normalized\n\n\tif ( dir.y > 0.99999 ) {\n\n\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t} else if ( dir.y < - 0.99999 ) {\n\n\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t} else {\n\n\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\tvar radians = Math.acos( dir.y );\n\n\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t}\n\n};\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.set( color );\n\tthis.cone.material.color.set( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author Emmett Lalish / elalish\n *\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n */\n\nvar LOD_MIN = 4;\nvar LOD_MAX = 8;\nvar SIZE_MAX = Math.pow( 2, LOD_MAX );\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nvar EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\nvar TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nvar MAX_SAMPLES = 20;\nvar ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nvar _flatCamera = new OrthographicCamera();\nvar _blurMaterial = _getBlurShader( MAX_SAMPLES );\nvar _equirectShader = null;\nvar _cubemapShader = null;\n\nvar { _lodPlanes, _sizeLods, _sigmas } = _createPlanes();\nvar _pingPongRenderTarget = null;\nvar _renderer = null;\n\nvar _oldTarget = null;\n\n// Golden Ratio\nvar PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nvar INV_PHI = 1 / PHI;\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nvar _axisDirections = [\n\tnew Vector3( 1, 1, 1 ),\n\tnew Vector3( - 1, 1, 1 ),\n\tnew Vector3( 1, 1, - 1 ),\n\tnew Vector3( - 1, 1, - 1 ),\n\tnew Vector3( 0, PHI, INV_PHI ),\n\tnew Vector3( 0, PHI, - INV_PHI ),\n\tnew Vector3( INV_PHI, 0, PHI ),\n\tnew Vector3( - INV_PHI, 0, PHI ),\n\tnew Vector3( PHI, INV_PHI, 0 ),\n\tnew Vector3( - PHI, INV_PHI, 0 ) ];\n\nfunction PMREMGenerator( renderer ) {\n\n\t_renderer = renderer;\n\t_compileMaterial( _blurMaterial );\n\n}\n\nPMREMGenerator.prototype = {\n\n\tconstructor: PMREMGenerator,\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene: function ( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = _renderer.getRenderTarget();\n\t\tvar cubeUVRenderTarget = _allocateTargets();\n\t\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\t_blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\t\t_applyPMREM( cubeUVRenderTarget );\n\t\t_cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular: function ( equirectangular ) {\n\n\t\tequirectangular.magFilter = NearestFilter;\n\t\tequirectangular.minFilter = NearestFilter;\n\t\tequirectangular.generateMipmaps = false;\n\n\t\treturn this.fromCubemap( equirectangular );\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap: function ( cubemap ) {\n\n\t\t_oldTarget = _renderer.getRenderTarget();\n\t\tvar cubeUVRenderTarget = _allocateTargets( cubemap );\n\t\t_textureToCubeUV( cubemap, cubeUVRenderTarget );\n\t\t_applyPMREM( cubeUVRenderTarget );\n\t\t_cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader: function () {\n\n\t\tif ( _cubemapShader == null ) {\n\n\t\t\t_cubemapShader = _getCubemapShader();\n\t\t\t_compileMaterial( _cubemapShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader: function () {\n\n\t\tif ( _equirectShader == null ) {\n\n\t\t\t_equirectShader = _getEquirectShader();\n\t\t\t_compileMaterial( _equirectShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose: function () {\n\n\t\t_blurMaterial.dispose();\n\n\t\tif ( _cubemapShader != null ) _cubemapShader.dispose();\n\t\tif ( _equirectShader != null ) _equirectShader.dispose();\n\n\t\tfor ( var i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t},\n\n};\n\nfunction _createPlanes() {\n\n\tvar _lodPlanes = [];\n\tvar _sizeLods = [];\n\tvar _sigmas = [];\n\n\tvar lod = LOD_MAX;\n\tfor ( var i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tvar sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tvar sigma = 1.0 / sizeLod;\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\t\t_sigmas.push( sigma );\n\n\t\tvar texelSize = 1.0 / ( sizeLod - 1 );\n\t\tvar min = - texelSize / 2;\n\t\tvar max = 1 + texelSize / 2;\n\t\tvar uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tvar cubeFaces = 6;\n\t\tvar vertices = 6;\n\t\tvar positionSize = 3;\n\t\tvar uvSize = 2;\n\t\tvar faceIndexSize = 1;\n\n\t\tvar position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tvar uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tvar faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( var face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tvar x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tvar y = face > 2 ? 0 : - 1;\n\t\t\tvar coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tvar fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\t\tvar planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _allocateTargets( equirectangular ) {\n\n\tvar params = {\n\t\tmagFilter: NearestFilter,\n\t\tminFilter: NearestFilter,\n\t\tgenerateMipmaps: false,\n\t\ttype: equirectangular ? equirectangular.type : UnsignedByteType,\n\t\tformat: equirectangular ? equirectangular.format : RGBEFormat,\n\t\tencoding: equirectangular ? equirectangular.encoding : RGBEEncoding,\n\t\tdepthBuffer: false,\n\t\tstencilBuffer: false\n\t};\n\tvar cubeUVRenderTarget = _createRenderTarget( params );\n\tcubeUVRenderTarget.depthBuffer = equirectangular ? false : true;\n\t_pingPongRenderTarget = _createRenderTarget( params );\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _cleanup( outputTarget ) {\n\n\t_pingPongRenderTarget.dispose();\n\t_renderer.setRenderTarget( _oldTarget );\n\toutputTarget.scissorTest = false;\n\t// reset viewport and scissor\n\toutputTarget.setSize( outputTarget.width, outputTarget.height );\n\n}\n\nfunction _sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\tvar fov = 90;\n\tvar aspect = 1;\n\tvar cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\tvar upSign = [ 1, 1, 1, 1, - 1, 1 ];\n\tvar forwardSign = [ 1, 1, - 1, - 1, - 1, 1 ];\n\n\tvar outputEncoding = _renderer.outputEncoding;\n\tvar toneMapping = _renderer.toneMapping;\n\tvar toneMappingExposure = _renderer.toneMappingExposure;\n\tvar clearColor = _renderer.getClearColor();\n\tvar clearAlpha = _renderer.getClearAlpha();\n\n\t_renderer.toneMapping = LinearToneMapping;\n\t_renderer.toneMappingExposure = 1.0;\n\t_renderer.outputEncoding = LinearEncoding;\n\tscene.scale.z *= - 1;\n\n\tvar background = scene.background;\n\tif ( background && background.isColor ) {\n\n\t\tbackground.convertSRGBToLinear();\n\t\t// Convert linear to RGBE\n\t\tvar maxComponent = Math.max( background.r, background.g, background.b );\n\t\tvar fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\t\tbackground = background.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\t\tvar alpha = ( fExp + 128.0 ) / 255.0;\n\t\t_renderer.setClearColor( background, alpha );\n\t\tscene.background = null;\n\n\t}\n\n\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\tvar col = i % 3;\n\t\tif ( col == 0 ) {\n\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t} else if ( col == 1 ) {\n\n\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t} else {\n\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t}\n\t\t_setViewport( cubeUVRenderTarget,\n\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t_renderer.setRenderTarget( cubeUVRenderTarget );\n\t\t_renderer.render( scene, cubeCamera );\n\n\t}\n\n\t_renderer.toneMapping = toneMapping;\n\t_renderer.toneMappingExposure = toneMappingExposure;\n\t_renderer.outputEncoding = outputEncoding;\n\t_renderer.setClearColor( clearColor, clearAlpha );\n\tscene.scale.z *= - 1;\n\n}\n\nfunction _textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\tvar scene = new Scene();\n\tif ( texture.isCubeTexture ) {\n\n\t\tif ( _cubemapShader == null ) {\n\n\t\t\t_cubemapShader = _getCubemapShader();\n\n\t\t}\n\n\t} else {\n\n\t\tif ( _equirectShader == null ) {\n\n\t\t\t_equirectShader = _getEquirectShader();\n\n\t\t}\n\n\t}\n\tvar material = texture.isCubeTexture ? _cubemapShader : _equirectShader;\n\tscene.add( new Mesh( _lodPlanes[ 0 ], material ) );\n\tvar uniforms = material.uniforms;\n\n\tuniforms[ 'envMap' ].value = texture;\n\tif ( ! texture.isCubeTexture ) {\n\n\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t}\n\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\n\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\t_renderer.setRenderTarget( cubeUVRenderTarget );\n\t_renderer.render( scene, _flatCamera );\n\n}\n\nfunction _compileMaterial( material ) {\n\n\tvar tmpScene = new Scene();\n\ttmpScene.add( new Mesh( _lodPlanes[ 0 ], material ) );\n\t_renderer.compile( tmpScene, _flatCamera );\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tvar cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _applyPMREM( cubeUVRenderTarget ) {\n\n\tvar autoClear = _renderer.autoClear;\n\t_renderer.autoClear = false;\n\n\tfor ( var i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\tvar sigma = Math.sqrt(\n\t\t\t_sigmas[ i ] * _sigmas[ i ] -\n\t\t_sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\t\tvar poleAxis =\n\t\t_axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\t\t_blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t}\n\n\t_renderer.autoClear = autoClear;\n\n}\n\n/**\n * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n * vertically and horizontally, but this breaks down on a cube. Here we apply\n * the blur latitudinally (around the poles), and then longitudinally (towards\n * the poles) to approximate the orthogonally-separable blur. It is least\n * accurate at the poles, but still does a decent job.\n */\nfunction _blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t_halfBlur(\n\t\tcubeUVRenderTarget,\n\t\t_pingPongRenderTarget,\n\t\tlodIn,\n\t\tlodOut,\n\t\tsigma,\n\t\t'latitudinal',\n\t\tpoleAxis );\n\n\t_halfBlur(\n\t\t_pingPongRenderTarget,\n\t\tcubeUVRenderTarget,\n\t\tlodOut,\n\t\tlodOut,\n\t\tsigma,\n\t\t'longitudinal',\n\t\tpoleAxis );\n\n}\n\nfunction _halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\tconsole.error(\n\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t}\n\n\t// Number of standard deviations at which to cut off the discrete approximation.\n\tvar STANDARD_DEVIATIONS = 3;\n\n\tvar blurScene = new Scene();\n\tblurScene.add( new Mesh( _lodPlanes[ lodOut ], _blurMaterial ) );\n\tvar blurUniforms = _blurMaterial.uniforms;\n\n\tvar pixels = _sizeLods[ lodIn ] - 1;\n\tvar radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\tvar sigmaPixels = sigmaRadians / radiansPerPixel;\n\tvar samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\tif ( samples > MAX_SAMPLES ) {\n\n\t\tconsole.warn( `sigmaRadians, ${\n\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t}\n\n\tvar weights = [];\n\tvar sum = 0;\n\n\tfor ( var i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\tvar x = i / sigmaPixels;\n\t\tvar weight = Math.exp( - x * x / 2 );\n\t\tweights.push( weight );\n\n\t\tif ( i == 0 ) {\n\n\t\t\tsum += weight;\n\n\t\t} else if ( i < samples ) {\n\n\t\t\tsum += 2 * weight;\n\n\t\t}\n\n\t}\n\n\tfor ( var i = 0; i < weights.length; i ++ ) {\n\n\t\tweights[ i ] = weights[ i ] / sum;\n\n\t}\n\n\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\tblurUniforms[ 'samples' ].value = samples;\n\tblurUniforms[ 'weights' ].value = weights;\n\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\tif ( poleAxis ) {\n\n\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t}\n\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\tvar outputSize = _sizeLods[ lodOut ];\n\tvar x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\tvar y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) +\n\t2 * outputSize *\n\t\t( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t_renderer.setRenderTarget( targetOut );\n\t_renderer.render( blurScene, _flatCamera );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tvar weights = new Float32Array( maxSamples );\n\tvar poleAxis = new Vector3( 0, 1, 0 );\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${_getEncodings()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'SphericalGaussianBlur';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tvar texelSize = new Vector2( 1, 1 );\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${_getEncodings()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'EquirectangularToCubeUV';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${_getEncodings()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'CubemapToCubeUV';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn `\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn `\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t`;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\treturn this.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( MathUtils, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn MathUtils.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn MathUtils.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\t\treturn attribute.applyMatrix3( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n\t},\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\t\treturn attribute.applyMatrix4( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( Mesh.prototype, {\n\n\tsetDrawMode: function () {\n\n\t\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t},\n\n} );\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddAttribute: function ( name, attribute ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\treturn this.setAttribute( name, attribute );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t},\n\tremoveAttribute: function ( name ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\t\treturn this.deleteAttribute( name );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InterleavedBuffer.prototype, {\n\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( value );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t},\n\tgetActiveMipMapLevel: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\t\treturn this.getActiveMipmapLevel();\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Audio.prototype, {\n\n\tload: {\n\t\tvalue: function ( file ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\t\t\tvar scope = this;\n\t\t\tvar audioLoader = new AudioLoader();\n\t\t\taudioLoader.load( file, function ( buffer ) {\n\n\t\t\t\tscope.setBuffer( buffer );\n\n\t\t\t} );\n\t\t\treturn this;\n\n\t\t}\n\t},\n\tstartTime: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Audio: .startTime is now .play( delay ).' );\n\n\t\t}\n\t}\n\n} );\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tvar loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tvar loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DirectionalLightShadow, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FileLoader, FlatShading, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontFaceDirectionCCW, FrontFaceDirectionCW, FrontSide, Frustum, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, LightShadow, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SphericalReflectionMapping, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, SpotLightShadow, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uncharted2ToneMapping, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","/**\n * @author Rich Tibbett / https://github.com/richtr\n * @author mrdoob / http://mrdoob.com/\n * @author Tony Parisi / http://www.tonyparisi.com/\n * @author Takahiro / https://github.com/takahirox\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nimport {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternionKeyframeTrack,\n\tRGBAFormat,\n\tRGBFormat,\n\tRepeatWrapping,\n\tScene,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tVertexColors,\n\tsRGBEncoding\n} from \"../../../build/three.module.js\";\n\nvar GLTFLoader = ( function () {\n\n\tfunction GLTFLoader( manager ) {\n\n\t\tLoader.call( this, manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ddsLoader = null;\n\n\t}\n\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\t\tconstructor: GLTFLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar resourcePath;\n\n\t\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\t\tresourcePath = this.resourcePath;\n\n\t\t\t} else if ( this.path !== '' ) {\n\n\t\t\t\tresourcePath = this.path;\n\n\t\t\t} else {\n\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t\t}\n\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tvar _onError = function ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t};\n\n\t\t\tvar loader = new FileLoader( scope.manager );\n\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tif ( scope.crossOrigin === 'use-credentials' ) {\n\n\t\t\t\tloader.setWithCredentials( true );\n\n\t\t\t}\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t\t}, _onError );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t_onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, _onError );\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.dracoLoader = dracoLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDDSLoader: function ( ddsLoader ) {\n\n\t\t\tthis.ddsLoader = ddsLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( data, path, onLoad, onError ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\n\t\t\tif ( typeof data === 'string' ) {\n\n\t\t\t\tcontent = data;\n\n\t\t\t} else {\n\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar json = JSON.parse( content );\n\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( json.extensionsUsed ) {\n\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFLightsExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar parser = new GLTFParser( json, extensions, {\n\n\t\t\t\tpath: path || this.resourcePath || '',\n\t\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\t\tmanager: this.manager\n\n\t\t\t} );\n\n\t\t\tparser.parse( onLoad, onError );\n\n\t\t}\n\n\t} );\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n\t};\n\n\t/**\n\t * DDS Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n\t *\n\t */\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\n\n\t\tif ( ! ddsLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\t\tthis.ddsLoader = ddsLoader;\n\n\t}\n\n\t/**\n\t * Punctual Lights Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\t */\n\tfunction GLTFLightsExtension( json ) {\n\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ] ) || {};\n\t\tthis.lightDefs = extension.lights || [];\n\n\t}\n\n\tGLTFLightsExtension.prototype.loadLight = function ( lightIndex ) {\n\n\t\tvar lightDef = this.lightDefs[ lightIndex ];\n\t\tvar lightNode;\n\n\t\tvar color = new Color( 0xffffff );\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = lightDef.name || ( 'light_' + lightIndex );\n\n\t\treturn Promise.resolve( lightNode );\n\n\t};\n\n\t/**\n\t * Unlit Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\t */\n\tfunction GLTFMaterialsUnlitExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n\n\t\treturn MeshBasicMaterial;\n\n\t};\n\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\n\n\t\tvar pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/* BINARY EXTENSION */\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tvar chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n\t */\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\t\tvar json = this.json;\n\t\tvar dracoLoader = this.dracoLoader;\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tvar threeAttributeMap = {};\n\t\tvar attributeNormalizedMap = {};\n\t\tvar attributeTypeMap = {};\n\n\t\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( attributeName in primitive.attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Texture Transform Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n\t */\n\tfunction GLTFTextureTransformExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t};\n\n\t/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\n\t/**\n\t * A sub class of StandardMaterial with some of the functionality\n\t * changed via the `onBeforeCompile` callback\n\t * @pailhead\n\t */\n\n\tfunction GLTFMeshStandardSGMaterial( params ) {\n\n\t\tMeshStandardMaterial.call( this );\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tvar specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb;',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.specularRoughness += geometryRoughness;',\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor.rgb;',\n\t\t].join( '\\n' );\n\n\t\tvar uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\t// please see #14031 or #13198 for an alternate approach\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( var uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( 'uniform float roughness;', 'uniform vec3 specular;' );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( 'uniform float metalness;', 'uniform float glossiness;' );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\t/*eslint-disable*/\n\t\tObject.defineProperties(\n\t\t\tthis,\n\t\t\t{\t\n\t\t\t\tspecular: {\n\t\t\t\t\tget: function () { return uniforms.specular.value; },\n\t\t\t\t\tset: function ( v ) { uniforms.specular.value = v; }\n\t\t\t\t},\n\t\t\t\tspecularMap: {\n\t\t\t\t\tget: function () { return uniforms.specularMap.value; },\n\t\t\t\t\tset: function ( v ) { uniforms.specularMap.value = v; }\n\t\t\t\t},\n\t\t\t\tglossiness: {\n\t\t\t\t\tget: function () { return uniforms.glossiness.value; },\n\t\t\t\t\tset: function ( v ) { uniforms.glossiness.value = v; }\n\t\t\t\t},\n\t\t\t\tglossinessMap: {\n\t\t\t\t\tget: function () { return uniforms.glossinessMap.value; },\n\t\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\t\tuniforms.glossinessMap.value = v;\n\t\t\t\t\t\t//how about something like this - @pailhead\n\t\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\t\t// set USE_ROUGHNESSMAP to enable vUv\n\t\t\t\t\t\t\tthis.defines.USE_ROUGHNESSMAP = '';\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdelete this.defines.USE_ROUGHNESSMAP;\n\t\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\t/*eslint-enable*/\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\n\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\n\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t};\n\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\t\treturn {\n\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\t\tspecularGlossinessParams: [\n\t\t\t\t'color',\n\t\t\t\t'map',\n\t\t\t\t'lightMap',\n\t\t\t\t'lightMapIntensity',\n\t\t\t\t'aoMap',\n\t\t\t\t'aoMapIntensity',\n\t\t\t\t'emissive',\n\t\t\t\t'emissiveIntensity',\n\t\t\t\t'emissiveMap',\n\t\t\t\t'bumpMap',\n\t\t\t\t'bumpScale',\n\t\t\t\t'normalMap',\n\t\t\t\t'normalMapType',\n\t\t\t\t'displacementMap',\n\t\t\t\t'displacementScale',\n\t\t\t\t'displacementBias',\n\t\t\t\t'specularMap',\n\t\t\t\t'specular',\n\t\t\t\t'glossinessMap',\n\t\t\t\t'glossiness',\n\t\t\t\t'alphaMap',\n\t\t\t\t'envMap',\n\t\t\t\t'envMapIntensity',\n\t\t\t\t'refractionRatio',\n\t\t\t],\n\n\t\t\tgetMaterialType: function () {\n\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\n\n\t\t\t},\n\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\n\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t\t}\n\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t},\n\n\t\t\tcreateMaterial: function ( materialParams ) {\n\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\t\t\tmaterial.fog = true;\n\n\t\t\t\tmaterial.color = materialParams.color;\n\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\t\t\tmaterial.lightMap = null;\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\t\tmaterial.emissive = materialParams.emissive;\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\t\t\tmaterial.bumpScale = 1;\n\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\t\t\tmaterial.displacementMap = null;\n\t\t\t\tmaterial.displacementScale = 1;\n\t\t\t\tmaterial.displacementBias = 0;\n\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\t\t\tmaterial.specular = materialParams.specular;\n\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\t\t\tmaterial.alphaMap = null;\n\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\t\treturn material;\n\n\t\t\t},\n\n\t\t};\n\n\t}\n\n\t/**\n\t * Mesh Quantization Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n\t */\n\tfunction GLTFMeshQuantizationExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n\t/*********************************/\n\t/********** INTERPOLATION ********/\n\t/*********************************/\n\n\t// Spline Interpolation\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer;\n\t\tvar values = this.sampleValues;\n\t\tvar stride = this.valueSize;\n\n\t\tvar stride2 = stride * 2;\n\t\tvar stride3 = stride * 3;\n\n\t\tvar td = t1 - t0;\n\n\t\tvar p = ( t - t0 ) / td;\n\t\tvar pp = p * p;\n\t\tvar ppp = pp * p;\n\n\t\tvar offset1 = i1 * stride3;\n\t\tvar offset0 = offset1 - stride3;\n\n\t\tvar s2 = - 2 * ppp + 3 * pp;\n\t\tvar s3 = ppp - pp;\n\t\tvar s0 = 1 - s2;\n\t\tvar s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tPOINTS: 0,\n\t\tLINES: 1,\n\t\tLINE_LOOP: 2,\n\t\tLINE_STRIP: 3,\n\t\tTRIANGLES: 4,\n\t\tTRIANGLE_STRIP: 5,\n\t\tTRIANGLE_FAN: 6,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: NearestFilter,\n\t\t9729: LinearFilter,\n\t\t9984: NearestMipmapNearestFilter,\n\t\t9985: LinearMipmapNearestFilter,\n\t\t9986: NearestMipmapLinearFilter,\n\t\t9987: LinearMipmapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: ClampToEdgeWrapping,\n\t\t33648: MirroredRepeatWrapping,\n\t\t10497: RepeatWrapping\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar ATTRIBUTES = {\n\t\tPOSITION: 'position',\n\t\tNORMAL: 'normal',\n\t\tTANGENT: 'tangent',\n\t\tTEXCOORD_0: 'uv',\n\t\tTEXCOORD_1: 'uv2',\n\t\tCOLOR_0: 'color',\n\t\tWEIGHTS_0: 'skinWeight',\n\t\tJOINTS_0: 'skinIndex',\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion',\n\t\tweights: 'morphTargetInfluences'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\t\tLINEAR: InterpolateLinear,\n\t\tSTEP: InterpolateDiscrete\n\t};\n\n\tvar ALPHA_MODES = {\n\t\tOPAQUE: 'OPAQUE',\n\t\tMASK: 'MASK',\n\t\tBLEND: 'BLEND'\n\t};\n\n\tvar MIME_TYPE_FORMATS = {\n\t\t'image/png': RGBAFormat,\n\t\t'image/jpeg': RGBFormat\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\n\tfunction createDefaultMaterial( cache ) {\n\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\t\tcolor: 0xFFFFFF,\n\t\t\t\temissive: 0x000000,\n\t\t\t\tmetalness: 1,\n\t\t\t\troughness: 1,\n\t\t\t\ttransparent: false,\n\t\t\t\tdepthTest: true,\n\t\t\t\tside: FrontSide\n\t\t\t} );\n\n\t\t}\n\n\t\treturn cache[ 'DefaultMaterial' ];\n\n\t}\n\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t\t// Add unknown glTF extensions to an object's userData.\n\n\t\tfor ( var name in objectDef.extensions ) {\n\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * @param {Object3D|Material|BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\n\tfunction assignExtrasToUserData( object, gltfDef ) {\n\n\t\tif ( gltfDef.extras !== undefined ) {\n\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addMorphTargets( geometry, targets, parser ) {\n\n\t\tvar hasMorphPosition = false;\n\t\tvar hasMorphNormal = false;\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t\t}\n\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\t\tvar pendingPositionAccessors = [];\n\t\tvar pendingNormalAccessors = [];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t\t: geometry.attributes.position;\n\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t\t: geometry.attributes.normal;\n\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( [\n\t\t\tPromise.all( pendingPositionAccessors ),\n\t\t\tPromise.all( pendingNormalAccessors )\n\t\t] ).then( function ( accessors ) {\n\n\t\t\tvar morphPositions = accessors[ 0 ];\n\t\t\tvar morphNormals = accessors[ 1 ];\n\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t\treturn geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\n\tfunction updateMorphTargets( mesh, meshDef ) {\n\n\t\tmesh.updateMorphTargets();\n\n\t\tif ( meshDef.weights !== undefined ) {\n\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createPrimitiveKey( primitiveDef ) {\n\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\t\tvar geometryKey;\n\n\t\tif ( dracoExtension ) {\n\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t\t} else {\n\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t\t}\n\n\t\treturn geometryKey;\n\n\t}\n\n\tfunction createAttributesKey( attributes ) {\n\n\t\tvar attributesKey = '';\n\n\t\tvar keys = Object.keys( attributes ).sort();\n\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t\t}\n\n\t\treturn attributesKey;\n\n\t}\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, extensions, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = extensions || {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis.markDefs();\n\n\t\tPromise.all( [\n\n\t\t\tthis.getDependencies( 'scene' ),\n\t\t\tthis.getDependencies( 'animation' ),\n\t\t\tthis.getDependencies( 'camera' ),\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tonLoad( result );\n\n\t\t} ).catch( onError );\n\n\t};\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\tGLTFParser.prototype.markDefs = function () {\n\n\t\tvar nodeDefs = this.json.nodes || [];\n\t\tvar skinDefs = this.json.skins || [];\n\t\tvar meshDefs = this.json.meshes || [];\n\n\t\tvar meshReferences = {};\n\t\tvar meshUses = {};\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Meshes can (and should) be reused by multiple nodes in a glTF asset. To\n\t\t// avoid having more than one Mesh with the same name, count\n\t\t// references and rename instances below.\n\t\t//\n\t\t// Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tif ( meshReferences[ nodeDef.mesh ] === undefined ) {\n\n\t\t\t\t\tmeshReferences[ nodeDef.mesh ] = meshUses[ nodeDef.mesh ] = 0;\n\n\t\t\t\t}\n\n\t\t\t\tmeshReferences[ nodeDef.mesh ] ++;\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.json.meshReferences = meshReferences;\n\t\tthis.json.meshUses = meshUses;\n\n\t};\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\t\tvar cacheKey = type + ':' + index;\n\t\tvar dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this.loadMesh( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this.loadBufferView( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this.loadMaterial( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this.loadTexture( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'light':\n\t\t\t\t\tdependency = this.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].loadLight( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t};\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tGLTFParser.prototype.getDependencies = function ( type ) {\n\n\t\tvar dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tvar parser = this;\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\t\tvar loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tvar pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tvar itemBytes = elementBytes * itemSize;\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tvar normalized = accessorDef.normalized === true;\n\t\t\tvar array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\t\tvar textureLoader = this.textureLoader;\n\n\t\tvar URL = window.URL || window.webkitURL;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar textureExtensions = textureDef.extensions || {};\n\n\t\tvar source;\n\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t\t} else {\n\n\t\t\tsource = json.images[ textureDef.source ];\n\n\t\t}\n\n\t\tvar sourceURI = source.uri;\n\t\tvar isObjectURL = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\t// Load Texture resource.\n\n\t\t\tvar loader = options.manager.getHandler( sourceURI );\n\n\t\t\tif ( ! loader ) {\n\n\t\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t\t\t: textureLoader;\n\n\t\t\t}\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), resolve, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name !== undefined ) texture.name = textureDef.name;\n\n\t\t\t// Ignore unknown mime types, like DDS files.\n\t\t\tif ( source.mimeType in MIME_TYPE_FORMATS ) {\n\n\t\t\t\ttexture.format = MIME_TYPE_FORMATS[ source.mimeType ];\n\n\t\t\t}\n\n\t\t\tvar samplers = json.samplers || {};\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\t\tvar parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\tif ( ! texture.isCompressedTexture ) {\n\n\t\t\t\tswitch ( mapName ) {\n\n\t\t\t\t\tcase 'aoMap':\n\t\t\t\t\tcase 'emissiveMap':\n\t\t\t\t\tcase 'metalnessMap':\n\t\t\t\t\tcase 'normalMap':\n\t\t\t\t\tcase 'roughnessMap':\n\t\t\t\t\t\ttexture.format = RGBFormat;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accomodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\n\n\t\tvar geometry = mesh.geometry;\n\t\tvar material = mesh.material;\n\t\tvar extensions = this.extensions;\n\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = VertexColors;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', new BufferAttribute( geometry.attributes.uv.array, 2 ) );\n\n\t\t}\n\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\tif ( material.normalScale && ! useVertexTangents ) {\n\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar materialDef = json.materials[ materialIndex ];\n\n\t\tvar materialType;\n\t\tvar materialParams = {};\n\t\tvar materialExtensions = materialDef.extensions || {};\n\n\t\tvar pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tmaterialType = MeshStandardMaterial;\n\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tvar material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name !== undefined ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t */\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar box = new Box3();\n\n\t\tif ( attributes.POSITION !== undefined ) {\n\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\t\tvar min = accessor.min;\n\t\t\tvar max = accessor.max;\n\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\tbox.set(\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar targets = primitiveDef.targets;\n\n\t\tif ( targets !== undefined ) {\n\n\t\t\tvar vector = new Vector3();\n\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\t\tvar min = accessor.min;\n\t\t\t\t\tvar max = accessor.max;\n\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\t\t\t\t\t\tbox.expandByVector( vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.boundingBox = box;\n\n\t\tvar sphere = new Sphere();\n\n\t\tbox.getCenter( sphere.center );\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\t\tgeometry.boundingSphere = sphere;\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar pending = [];\n\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t\t.then( function ( accessor ) {\n\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tfor ( var gltfAttributeName in attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t\t}\n\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\t\tgeometry.setIndex( accessor );\n\n\t\t\t} );\n\n\t\t\tpending.push( accessor );\n\n\t\t}\n\n\t\tassignExtrasToUserData( geometry, primitiveDef );\n\n\t\tcomputeBounds( geometry, primitiveDef, parser );\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn primitiveDef.targets !== undefined\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t\t: geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {Number} drawMode\n\t * @return {BufferGeometry}\n\t */\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\t\tvar index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tvar indices = [];\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar numberOfTriangles = index.count - 2;\n\t\tvar newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tvar newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\n\t\treturn newGeometry;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\t\tvar parser = this;\n\t\tvar extensions = this.extensions;\n\t\tvar cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar primitive = primitives[ i ];\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tvar cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tvar geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar meshDef = json.meshes[ meshIndex ];\n\t\tvar primitives = meshDef.primitives;\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\n\t\t\tvar geometries = results[ results.length - 1 ];\n\n\t\t\tvar meshes = [];\n\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tvar material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See .markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = meshDef.name || ( 'mesh_' + meshIndex );\n\n\t\t\t\tif ( geometries.length > 1 ) mesh.name += '_' + i;\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tvar group = new Group();\n\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\t\tvar camera;\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\t\tvar params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( params.xmag / - 2, params.xmag / 2, params.ymag / 2, params.ymag / - 2, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name !== undefined ) camera.name = cameraDef.name;\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\t\tvar skinDef = this.json.skins[ skinIndex ];\n\n\t\tvar skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\t\tvar json = this.json;\n\n\t\tvar animationDef = json.animations[ animationIndex ];\n\n\t\tvar pendingNodes = [];\n\t\tvar pendingInputAccessors = [];\n\t\tvar pendingOutputAccessors = [];\n\t\tvar pendingSamplers = [];\n\t\tvar pendingTargets = [];\n\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tvar channel = animationDef.channels[ i ];\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tvar target = channel.target;\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar nodes = dependencies[ 0 ];\n\t\t\tvar inputAccessors = dependencies[ 1 ];\n\t\t\tvar outputAccessors = dependencies[ 2 ];\n\t\t\tvar samplers = dependencies[ 3 ];\n\t\t\tvar targets = dependencies[ 4 ];\n\n\t\t\tvar tracks = [];\n\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tvar node = nodes[ i ];\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\t\tvar sampler = samplers[ i ];\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tvar TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tvar targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tvar outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tvar scale;\n\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 127;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 255;\n\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 32767;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 65535;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar parser = this;\n\n\t\tvar meshReferences = json.meshReferences;\n\t\tvar meshUses = json.meshUses;\n\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\t\treturn ( function () {\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\t\tvar node;\n\n\t\t\t\t\tif ( meshReferences[ nodeDef.mesh ] > 1 ) {\n\n\t\t\t\t\t\tvar instanceNum = meshUses[ nodeDef.mesh ] ++;\n\n\t\t\t\t\t\tnode = mesh.clone();\n\t\t\t\t\t\tnode.name += '_instance_' + instanceNum;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tnode = mesh;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ]\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'light', nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tvar node;\n\n\t\t\t// .isBone isn't in glTF spec. See .markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name !== undefined ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = PropertyBinding.sanitizeNodeName( nodeDef.name );\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tvar matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Scene>}\n\t */\n\tGLTFParser.prototype.loadScene = function () {\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t\t// build skeleton here as well\n\n\t\t\t\tvar skinEntry;\n\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\t\tskinEntry = skin;\n\n\t\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\n\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} ).then( function ( node ) {\n\n\t\t\t\t// build node hierachy\n\n\t\t\t\tparentObject.add( node );\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn function loadScene( sceneIndex ) {\n\n\t\t\tvar json = this.json;\n\t\t\tvar extensions = this.extensions;\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\t\tvar parser = this;\n\n\t\t\tvar scene = new Scene();\n\t\t\tif ( sceneDef.name !== undefined ) scene.name = sceneDef.name;\n\n\t\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\t\tvar pending = [];\n\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t\treturn scene;\n\n\t\t\t} );\n\n\t\t};\n\n\t}();\n\n\treturn GLTFLoader;\n\n} )();\n\nexport { GLTFLoader };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport {\n\tClock,\n\tLinearFilter,\n\tMesh,\n\tOrthographicCamera,\n\tPlaneBufferGeometry,\n\tRGBAFormat,\n\tVector2,\n\tWebGLRenderTarget\n} from \"../../../build/three.module.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nimport { ShaderPass } from \"../postprocessing/ShaderPass.js\";\nimport { MaskPass } from \"../postprocessing/MaskPass.js\";\nimport { ClearMaskPass } from \"../postprocessing/MaskPass.js\";\n\nvar EffectComposer = function ( renderer, renderTarget ) {\n\n\tthis.renderer = renderer;\n\n\tif ( renderTarget === undefined ) {\n\n\t\tvar parameters = {\n\t\t\tminFilter: LinearFilter,\n\t\t\tmagFilter: LinearFilter,\n\t\t\tformat: RGBAFormat,\n\t\t\tstencilBuffer: false\n\t\t};\n\n\t\tvar size = renderer.getSize( new Vector2() );\n\t\tthis._pixelRatio = renderer.getPixelRatio();\n\t\tthis._width = size.width;\n\t\tthis._height = size.height;\n\n\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t} else {\n\n\t\tthis._pixelRatio = 1;\n\t\tthis._width = renderTarget.width;\n\t\tthis._height = renderTarget.height;\n\n\t}\n\n\tthis.renderTarget1 = renderTarget;\n\tthis.renderTarget2 = renderTarget.clone();\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\tthis.writeBuffer = this.renderTarget1;\n\tthis.readBuffer = this.renderTarget2;\n\n\tthis.renderToScreen = true;\n\n\tthis.passes = [];\n\n\t// dependencies\n\n\tif ( CopyShader === undefined ) {\n\n\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\n\n\t}\n\n\tif ( ShaderPass === undefined ) {\n\n\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\n\n\t}\n\n\tthis.copyPass = new ShaderPass( CopyShader );\n\n\tthis.clock = new Clock();\n\n};\n\nObject.assign( EffectComposer.prototype, {\n\n\tswapBuffers: function () {\n\n\t\tvar tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t},\n\n\taddPass: function ( pass ) {\n\n\t\tthis.passes.push( pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t},\n\n\tinsertPass: function ( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\n\t},\n\n\tisLastEnabledPass: function ( passIndex ) {\n\n\t\tfor ( var i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\trender: function ( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = this.clock.getDelta();\n\n\t\t}\n\n\t\tvar currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tvar maskActive = false;\n\n\t\tvar pass, i, il = this.passes.length;\n\n\t\tfor ( i = 0; i < il; i ++ ) {\n\n\t\t\tpass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tvar context = this.renderer.getContext();\n\t\t\t\t\tvar stencil = this.renderer.state.buffers.stencil;\n\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t},\n\n\treset: function ( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tvar size = this.renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t},\n\n\tsetSize: function ( width, height ) {\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tvar effectiveWidth = this._width * this._pixelRatio;\n\t\tvar effectiveHeight = this._height * this._pixelRatio;\n\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\n\n\t\tfor ( var i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\n\n\t\t}\n\n\t},\n\n\tsetPixelRatio: function ( pixelRatio ) {\n\n\t\tthis._pixelRatio = pixelRatio;\n\n\t\tthis.setSize( this._width, this._height );\n\n\t}\n\n} );\n\n\nvar Pass = function () {\n\n\t// if set to true, the pass is processed by the composer\n\tthis.enabled = true;\n\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\tthis.needsSwap = true;\n\n\t// if set to true, the pass clears its buffer before rendering\n\tthis.clear = false;\n\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\tthis.renderToScreen = false;\n\n};\n\nObject.assign( Pass.prototype, {\n\n\tsetSize: function ( /* width, height */ ) {},\n\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n} );\n\n// Helper for passes that need to fill the viewport with a single quad.\nPass.FullScreenQuad = ( function () {\n\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\n\n\tvar FullScreenQuad = function ( material ) {\n\n\t\tthis._mesh = new Mesh( geometry, material );\n\n\t};\n\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\n\n\t\tget: function () {\n\n\t\t\treturn this._mesh.material;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._mesh.material = value;\n\n\t\t}\n\n\t} );\n\n\tObject.assign( FullScreenQuad.prototype, {\n\n\t\tdispose: function () {\n\n\t\t\tthis._mesh.geometry.dispose();\n\n\t\t},\n\n\t\trender: function ( renderer ) {\n\n\t\t\trenderer.render( this._mesh, camera );\n\n\t\t}\n\n\t} );\n\n\treturn FullScreenQuad;\n\n} )();\n\nexport { EffectComposer, Pass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\n\nimport { Pass } from \"../postprocessing/Pass.js\";\n\nvar MaskPass = function ( scene, camera ) {\n\n\tPass.call( this );\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.clear = true;\n\tthis.needsSwap = false;\n\n\tthis.inverse = false;\n\n};\n\nMaskPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: MaskPass,\n\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tvar context = renderer.getContext();\n\t\tvar state = renderer.state;\n\n\t\t// don't update color or depth\n\n\t\tstate.buffers.color.setMask( false );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\t// lock buffers\n\n\t\tstate.buffers.color.setLocked( true );\n\t\tstate.buffers.depth.setLocked( true );\n\n\t\t// set up stencil\n\n\t\tvar writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tstate.buffers.stencil.setTest( true );\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tstate.buffers.stencil.setClear( clearValue );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.setRenderTarget( readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\trenderer.setRenderTarget( writeBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\n\t\tstate.buffers.color.setLocked( false );\n\t\tstate.buffers.depth.setLocked( false );\n\n\t\t// only render where stencil is set to 1\n\n\t\tstate.buffers.stencil.setLocked( false );\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t}\n\n} );\n\n\nvar ClearMaskPass = function () {\n\n\tPass.call( this );\n\n\tthis.needsSwap = false;\n\n};\n\nClearMaskPass.prototype = Object.create( Pass.prototype );\n\nObject.assign( ClearMaskPass.prototype, {\n\n\trender: function ( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\trenderer.state.buffers.stencil.setLocked( false );\n\t\trenderer.state.buffers.stencil.setTest( false );\n\n\t}\n\n} );\n\nexport { MaskPass, ClearMaskPass };\n","import {\n\tOrthographicCamera,\n\tPlaneBufferGeometry,\n\tMesh\n} from \"../../../build/three.module.js\";\n\nfunction Pass() {\n\n\t// if set to true, the pass is processed by the composer\n\tthis.enabled = true;\n\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\tthis.needsSwap = true;\n\n\t// if set to true, the pass clears its buffer before rendering\n\tthis.clear = false;\n\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\tthis.renderToScreen = false;\n\n}\n\nObject.assign( Pass.prototype, {\n\n\tsetSize: function ( /* width, height */ ) {},\n\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n} );\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nPass.FullScreenQuad = ( function () {\n\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\n\n\tvar FullScreenQuad = function ( material ) {\n\n\t\tthis._mesh = new Mesh( geometry, material );\n\n\t};\n\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\n\n\t\tget: function () {\n\n\t\t\treturn this._mesh.material;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._mesh.material = value;\n\n\t\t}\n\n\t} );\n\n\tObject.assign( FullScreenQuad.prototype, {\n\n\t\tdispose: function () {\n\n\t\t\tthis._mesh.geometry.dispose();\n\n\t\t},\n\n\t\trender: function ( renderer ) {\n\n\t\t\trenderer.render( this._mesh, camera );\n\n\t\t}\n\n\t} );\n\n\treturn FullScreenQuad;\n\n} )();\n\nexport { Pass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\n\nimport { Pass } from \"../postprocessing/Pass.js\";\n\nvar RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\tPass.call( this );\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.overrideMaterial = overrideMaterial;\n\n\tthis.clearColor = clearColor;\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\tthis.clear = true;\n\tthis.clearDepth = false;\n\tthis.needsSwap = false;\n\n};\n\nRenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: RenderPass,\n\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tvar oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\tvar oldClearColor, oldClearAlpha;\n\n\t\tif ( this.clearColor ) {\n\n\t\t\toldClearColor = renderer.getClearColor().getHex();\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tthis.scene.overrideMaterial = null;\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n} );\n\nexport { RenderPass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport {\n\tLinearFilter,\n\tRGBFormat,\n\tShaderMaterial,\n\tUniformsUtils,\n\tWebGLRenderTarget\n} from \"../../../build/three.module.js\";\nimport { Pass } from \"../postprocessing/Pass.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\n\nvar SavePass = function ( renderTarget ) {\n\n\tPass.call( this );\n\n\tif ( CopyShader === undefined )\n\t\tconsole.error( \"SavePass relies on CopyShader\" );\n\n\tvar shader = CopyShader;\n\n\tthis.textureID = \"tDiffuse\";\n\n\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\tthis.material = new ShaderMaterial( {\n\n\t\tuniforms: this.uniforms,\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader\n\n\t} );\n\n\tthis.renderTarget = renderTarget;\n\n\tif ( this.renderTarget === undefined ) {\n\n\t\tthis.renderTarget = new WebGLRenderTarget( window.innerWidth, window.innerHeight, { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBFormat, stencilBuffer: false } );\n\t\tthis.renderTarget.texture.name = \"SavePass.rt\";\n\n\t}\n\n\tthis.needsSwap = false;\n\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\n\n};\n\nSavePass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: SavePass,\n\n\trender: function ( renderer, writeBuffer, readBuffer ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderTarget );\n\t\tif ( this.clear ) renderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t}\n\n} );\n\nexport { SavePass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport {\n\tShaderMaterial,\n\tUniformsUtils\n} from \"../../../build/three.module.js\";\nimport { Pass } from \"../postprocessing/Pass.js\";\n\nvar ShaderPass = function ( shader, textureID ) {\n\n\tPass.call( this );\n\n\tthis.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\n\n\tif ( shader instanceof ShaderMaterial ) {\n\n\t\tthis.uniforms = shader.uniforms;\n\n\t\tthis.material = shader;\n\n\t} else if ( shader ) {\n\n\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\tthis.material = new ShaderMaterial( {\n\n\t\t\tdefines: Object.assign( {}, shader.defines ),\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t} );\n\n\t}\n\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\n\n};\n\nShaderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: ShaderPass,\n\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( writeBuffer );\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t}\n\n} );\n\nexport { ShaderPass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Blend two textures\n */\n\n\n\nvar BlendShader = {\n\n\tuniforms: {\n\n\t\t\"tDiffuse1\": { value: null },\n\t\t\"tDiffuse2\": { value: null },\n\t\t\"mixRatio\": { value: 0.5 },\n\t\t\"opacity\": { value: 1.0 }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvUv = uv;\",\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\n\t\t\"uniform float opacity;\",\n\t\t\"uniform float mixRatio;\",\n\n\t\t\"uniform sampler2D tDiffuse1;\",\n\t\t\"uniform sampler2D tDiffuse2;\",\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec4 texel1 = texture2D( tDiffuse1, vUv );\",\n\t\t\"\tvec4 texel2 = texture2D( tDiffuse2, vUv );\",\n\t\t\"\tgl_FragColor = opacity * mix( texel1, texel2, mixRatio );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};\n\nexport { BlendShader };\n","/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\n\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t\"tDiffuse\": { value: null },\n\t\t\"opacity\": { value: 1.0 }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvUv = uv;\",\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\n\t\t\"uniform float opacity;\",\n\n\t\t\"uniform sampler2D tDiffuse;\",\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n\t\t\"\tgl_FragColor = opacity * texel;\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};\n\nexport { CopyShader };\n","import {EffectComposer} from \"three/examples/jsm/postprocessing/EffectComposer\";\nimport {RenderPass} from \"three/examples/jsm/postprocessing/RenderPass\";\nimport {ShaderPass} from \"three/examples/jsm/postprocessing/ShaderPass\";\nimport {SavePass} from \"three/examples/jsm/postprocessing/SavePass\";\nimport {CopyShader} from \"three/examples/jsm/shaders/CopyShader\";\nimport {BlendShader} from \"three/examples/jsm/shaders/BlendShader\";\nimport PresentModelLoad from \"./PresentModelLoad\";\n\nexport default class Animation {\n    constructor() {\n\n    }\n\n    blurInit(THREE, scene, camera, renderer) {\n        // Post-processing inits\n        const composer = new EffectComposer(renderer);\n\n        // render pass\n        const renderPass = new RenderPass(scene, camera);\n\n        const renderTargetParameters = {\n            minFilter: THREE.LinearFilter,\n            magFilter: THREE.LinearFilter,\n            stencilBuffer: false\n        };\n\n        // save pass\n        const savePass = new SavePass(\n            new THREE.WebGLRenderTarget(\n                window.innerWidth,\n                window.innerHeight,\n                renderTargetParameters\n            )\n        );\n\n        // blend pass\n        const blendPass = new ShaderPass(BlendShader, \"tDiffuse1\");\n        blendPass.uniforms[\"tDiffuse2\"].value = savePass.renderTarget.texture;\n        blendPass.uniforms[\"mixRatio\"].value = 0.8;\n\n        // output pass\n        const outputPass = new ShaderPass(CopyShader);\n        outputPass.renderToScreen = true;\n\n        // adding passes to composer\n        composer.addPass(renderPass);\n        // composer.addPass(blendPass);\n        // composer.addPass(savePass);\n        // composer.addPass(outputPass);\n\n        return composer;\n    }\n\n    init(THREE, controls, renderer, scene, camera, pointsLine, manager) {\n        let camPosIndex = 0;\n        let posIndex = 0;\n        let diff = 0;\n        let counter = 0;\n        const progress = [470, 670, 350, 650, 840];\n        let present = new PresentModelLoad(manager);\n\n        document.querySelector(\"button\").addEventListener(\"click\", ev => {\n            ev.preventDefault();\n            posIndex += progress[counter];\n            counter ++;\n\n            if(counter === 2){\n                present.init(THREE, scene);\n            }\n\n            diff = posIndex - camPosIndex;\n        });\n\n        let camPos = pointsLine.getPoint(camPosIndex / 3000);\n        let camRot = pointsLine.getTangent(camPosIndex / 3000);\n\n        camera.position.x = camPos.x;\n        camera.position.y = camPos.y;\n        camera.position.z = camPos.z;\n\n        camera.rotation.x = camRot.x;\n        camera.rotation.y = camRot.y;\n        camera.rotation.z = camRot.z;\n\n        camera.lookAt(pointsLine.getPoint((camPosIndex + 1) / 3000));\n\n\n        let composer = this.blurInit(THREE, scene, camera, renderer);\n\n        function update() {\n            // controls.update();\n            composer.render();\n            // renderer.render(scene, camera);\n            if (camPosIndex < posIndex && camPosIndex < 3000) {\n                camPos = pointsLine.getPoint(camPosIndex / 3000);\n                camRot = pointsLine.getTangent(camPosIndex / 3000);\n\n                if (camPosIndex + 100 > posIndex) {\n                    camPosIndex += 1 - (Math.floor(camPosIndex) + 100 - posIndex) / 100;\n                } else if (camPosIndex < posIndex - (diff - 100)) {\n                    camPosIndex += -(posIndex - camPosIndex - diff - 30) / 100;\n                } else {\n                    camPosIndex += 1.5;\n                }\n\n                camera.position.x = camPos.x;\n                camera.position.y = camPos.y;\n                camera.position.z = camPos.z;\n\n                camera.rotation.x = camRot.x;\n                camera.rotation.y = camRot.y;\n                camera.rotation.z = camRot.z;\n\n                camera.lookAt(pointsLine.getPoint((camPosIndex + 1) / 3000));\n            }\n            requestAnimationFrame(update);\n        }\n\n        update();\n    }\n}\n","export default class Camera {\n    constructor() {\n\n    }\n\n    init(THREE) {\n        var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 5);\n        camera.position.set(-1.7, 2.1, 1.1);\n\n        return camera;\n    }\n}\n","export default class Camera {\n    constructor() {\n\n    }\n\n    init(THREE, scene, pointsLine) {\n        const material = new THREE.MeshLambertMaterial({color: 0xffffff});\n        const points = pointsLine.getPoints(5000);\n        const geometry = new THREE.BufferGeometry().setFromPoints(points);\n\n        const line = new THREE.Line(geometry, material);\n\n        scene.add(line);\n    }\n}\n","export default class Controls {\n    constructor() {\n\n    }\n\n    init(OrbitControls, camera, renderer) {\n        const controls = new OrbitControls(camera, renderer.domElement);\n        controls.update();\n\n        return controls;\n    }\n}\n","export default class Floor {\n    constructor() {\n\n    }\n\n    init(THREE, scene){\n        const geometry = new THREE.PlaneGeometry(4, 5, 1);\n        const material = new THREE.MeshStandardMaterial({\n            color: 0x555555,\n        });\n        const floor = new THREE.Mesh(geometry, material);\n        floor.rotateX(-Math.PI / 2);\n        floor.position.set(1, 0.05, 0);\n        floor.receiveShadow = true;\n        floor.castShadow = false;\n        scene.add(floor);\n    }\n\n}\n","export default class HouseLights {\n    constructor() {\n    }\n\n    init(THREE, scene) {\n        this.sphere = new THREE.SphereBufferGeometry(0.007, 5, 5);\n        const light_2 = this.smallLightInit([1.05, 0.24, -0.50], THREE);\n        const light_3 = this.smallLightInit([1.05, 0.24, 0.45], THREE);\n        const light_4 = this.smallLightInit([1.55, 0.24, 0.45], THREE);\n        scene.add(light_2);\n        scene.add(light_3);\n        scene.add(light_4);\n    }\n\n    smallLightInit(position, THREE) {\n        const light = new THREE.PointLight(0xffff00, 1, 0.5);\n        light.add(new THREE.Mesh(this.sphere, new THREE.MeshBasicMaterial({color: 0xffff00})));\n        light.position.set(position[0], position[1], position[2]);\n\n        return light;\n    }\n}\n","import gsap from \"gsap\";\n\nexport default class Loading {\n    constructor() {\n        this.loading = document.querySelector('.js-loading');\n        this.loadingOverlay = document.querySelector('.js-loading-overlay');\n    }\n\n    init(value) {\n        gsap.to(this.loading, {\n            delay: 0.3,\n            duration: 0.5,\n            x: `${100 - value}%`,\n            ease: \"expo.ease-out\",\n            onComplete: () => {\n                if (value > 99) {\n                    this.finalAnimation();\n                }\n            }\n        })\n    }\n\n    finalAnimation() {\n        gsap.to(this.loading, {\n            delay: 0.2,\n            duration: 0.6,\n            height: \"100%\",\n            ease: \"expo.ease-out\"\n        });\n\n        gsap.to(this.loadingOverlay, {\n            duration: 0.6,\n            delay: 0.5,\n            y: \"-105%\",\n            ease: \"expo.ease-out\"\n        });\n    }\n}\n","export default class MainLight {\n    constructor() {\n\n    }\n\n    init(THREE, scene) {\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n        directionalLight.position.set(-1, 2, 2);\n        directionalLight.castShadow = true;\n        directionalLight.addHelper = true;\n        directionalLight.shadow.camera.near = 0.01;\n        directionalLight.shadow.camera.far = 10;\n        scene.add(directionalLight);\n    }\n}\n","import {GLTFLoader} from 'three/examples/jsm/loaders/GLTFLoader';\n\nexport default class MainModelLoad {\n    constructor(manager) {\n        this.loader = new GLTFLoader(manager);\n    }\n\n    init(THREE, scene) {\n        let material = new THREE.MeshStandardMaterial({\n            color: 0xaaaaaa,\n            side: THREE.DoubleSide,\n        });\n        this.loader.load(\n            `${window.modelPath}`,\n            (gltf) => {\n                const model = gltf.scene;\n                model.traverse((obj) => {\n                    if (obj instanceof THREE.Mesh) {\n                        obj.material = material;\n                        obj.castShadow = true;\n                        obj.receiveShadow = true;\n                    }\n                });\n                scene.add(model);\n            },\n            (xhr) => {\n                // console.log(`${(xhr.loaded / xhr.total * 100)}% loaded`);\n            },\n            (error) => {\n                // console.error('An error happened', error);\n            },\n        );\n    }\n}\n","export default class PointsLine {\n    constructor() {\n\n    }\n\n    init(THREE) {\n        let pointsArr = [];\n        pointsArr.push(\n            new THREE.Vector3(2.53, 1.92, 2.72),\n            new THREE.Vector3(1.52, 0.34, 1.34),\n            new THREE.Vector3(-0.2, 0.14, 0.34),\n            new THREE.Vector3(0.2, 0.34, -1.34),\n            new THREE.Vector3(1.2, 0.74, -0.44),\n            new THREE.Vector3(1.5, 0.24, 1.2),\n            new THREE.Vector3(-0.2, 0.14, 0.64),\n            new THREE.Vector3(0.2, 0.24, -1.34),\n            new THREE.Vector3(0.82, 0.24, 0.1),\n            new THREE.Vector3(0.55, 0.2, 1.24),\n            new THREE.Vector3(1.12, 0.34, 1.44),\n            new THREE.Vector3(1.25, 0.24, 1),\n\n        );\n\n        return new THREE.CatmullRomCurve3(pointsArr, false, \"catmullrom\", 0);\n    }\n}\n","import {GLTFLoader} from 'three/examples/jsm/loaders/GLTFLoader';\nimport gsap from \"gsap\";\n\nexport default class PresentModelLoad {\n    constructor(manager) {\n        this.loader = new GLTFLoader(manager);\n    }\n\n    init(THREE, scene) {\n        let material = new THREE.MeshStandardMaterial({\n            color: 0xaaaaaa,\n            side: THREE.DoubleSide,\n        });\n        this.loader.load(\n            `${window.presentPath}`,\n            (gltf) => {\n                const model = gltf.scene;\n                model.traverse((obj) => {\n                    if (obj instanceof THREE.Mesh) {\n                        obj.material = material;\n                        obj.castShadow = true;\n                        obj.receiveShadow = true;\n                    }\n                });\n                model.scale.set(0.001, 0.001, 0.001);\n                model.position.set(1.4, 0.59, 0.4);\n                scene.add(model);\n\n                this.animatePresent(model);\n            },\n            (xhr) => {\n                // console.log(`${(xhr.loaded / xhr.total * 100)}% loaded`);\n            },\n            (error) => {\n                // console.error('An error happened', error);\n            },\n        );\n    }\n\n    animatePresent(model) {\n        if (!model) {\n            return;\n        }\n\n        gsap.to(model.scale, {\n            duration: 0.7,\n            delay: 9.5,\n            x: 0.05,\n            y: 0.05,\n            z: 0.05,\n            ease: \"elastic.out(1, 0.3)\"\n        });\n\n        function rotate() {\n            model.rotation.y = model.rotation.y + 0.01;\n            requestAnimationFrame(rotate);\n        }\n\n        rotate();\n    }\n}\n","export default class RandomBoxes {\n    constructor() {\n\n    }\n\n    init(THREE, scene, pointsLine) {\n        for (let i = 0; i < pointsLine.points.length; i++) {\n            let b = new THREE.Mesh(\n                new THREE.BoxGeometry(0.01, 0.01, 0.01),\n                new THREE.MeshBasicMaterial({color: \"#EEEDDD\"})\n            );\n\n            b.position.x = pointsLine.points[i].x;\n            b.position.y = pointsLine.points[i].y;\n            b.position.z = pointsLine.points[i].z;\n\n            scene.add(b);\n        }\n    }\n}\n","export default class Renderer {\n    constructor() {\n\n    }\n\n    init(THREE) {\n        const renderer = new THREE.WebGLRenderer();\n        renderer.shadowMap.enabled = true;\n        renderer.shadowMap.autoUpdate = false;\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.domElement.classList.add('c-canvas');\n        document.body.appendChild(renderer.domElement);\n\n        setTimeout(() => {\n            renderer.shadowMap.needsUpdate = true;\n        }, 300);\n        return renderer;\n    }\n}\n","export default class Scene {\n    constructor() {\n\n    }\n\n    init(THREE) {\n        const scene = new THREE.Scene();\n        const fogColor = new THREE.Color(0x888888);\n\n        scene.background = fogColor;\n        // TODO\n        // scene.fog = new THREE.Fog(fogColor, 0.000001, 4);\n\n        return scene;\n    }\n}\n","export default class Sparkles {\n    constructor() {\n    }\n\n    init(THREE, container, width, height, num) {\n        this.spriteMaterial = new THREE.SpriteMaterial({\n            map: new THREE.TextureLoader().load(\n                `${window.sparkleGlow}`\n            ),\n            color: 0xffff00,\n            blending: THREE.AdditiveBlending\n        });\n\n        this.sparkleGeometry = new THREE.SphereBufferGeometry(0.001, 5, 5);\n        this.sparkleMaterial = new THREE.MeshBasicMaterial({\n            color: 0xfef307\n        });\n        this.makeSparkles(THREE, container, width, height, num);\n    }\n\n    makeSparkles(THREE, container, width, height, num) {\n        for (let i = 0; i < num; i++) {\n            let sparkle = new THREE.Mesh(this.sparkleGeometry, this.sparkleMaterial);\n            sparkle.position.x = this.randomNumber() * width - (width / 2);\n            sparkle.position.y = 0.1 * this.randomNumber();\n            sparkle.position.z = this.randomNumber() * height - (height / 2);\n            let sprite = new THREE.Sprite(this.spriteMaterial);\n            sprite.scale.set(0.004, 0.004, 0.004);\n            sparkle.add(sprite);\n            sparkle.name = \"sparkle\";\n            let num = 0;\n\n            this.moveSparkle(sparkle, num, this.randomNumber() / 10);\n\n            container.add(sparkle);\n        }\n    }\n\n    moveSparkle(sparkle, num, increaser) {\n        sparkle.position.z =\n            sparkle.position.z + Math.sin(num * 0.5) / (600 + increaser * 10);\n        sparkle.position.y =\n            sparkle.position.y + Math.sin(num) / (8000 + increaser * 10);\n        sparkle.position.x =\n            sparkle.position.x + Math.sin(num) / (600 + increaser * 10);\n        sparkle.scale.x = Math.sin(num) + 0.0005;\n        sparkle.scale.z = Math.sin(num) + 0.0005;\n        sparkle.scale.y = Math.sin(num) + 0.0005;\n        num = num + increaser;\n\n        requestAnimationFrame(() => this.moveSparkle(sparkle, num, increaser));\n    }\n\n    randomNumber() {\n        return Math.random().toFixed(5);\n    }\n}\n","export default class StartEndSphere {\n    constructor() {\n\n    }\n\n    init(THREE, scene) {\n        let sphereGeom = new THREE.SphereGeometry(1, 10, 10);\n        let sphereMat = new THREE.MeshBasicMaterial({\n            color: \"#EE0000\"\n        });\n        let sphere = new THREE.Mesh(sphereGeom, sphereMat);\n        let sphere2 = new THREE.Mesh(sphereGeom, sphereMat);\n        sphere.position.set(0, 0, 0);\n        sphere2.position.set(20, 30, 15);\n        scene.add(sphere);\n        scene.add(sphere2);\n    }\n}\n","import '../scss/style.scss';\nimport * as THREE from 'three/build/three.module';\n\nlet OrbitControls = require('three-orbit-controls')(THREE);\nimport Renderer from \"./components/Renderer\";\nimport Scene from \"./components/Scene\";\nimport Camera from \"./components/Camera\";\nimport Controls from \"./components/Controls\";\nimport PointsLine from \"./components/PointsLine\";\nimport CameraPathLine from \"./components/CameraPathLine\";\nimport Animation from \"./components/Animation\";\nimport RandomBoxes from \"./components/RandomBoxes\";\nimport StartEndSphere from \"./components/StartEndSphere\";\nimport MainModelLoad from \"./components/MainModelLoad\";\nimport MainLight from \"./components/MainLight\";\nimport Floor from \"./components/Floor\";\nimport Sparkles from \"./components/Sparkles\";\nimport HouseLights from \"./components/HouseLights\";\nimport PresentModelLoad from \"./components/PresentModelLoad\";\nimport Loading from \"./components/Loading\";\n\nfunction docReady(fn) {\n    if (document.readyState === \"complete\" || document.readyState === \"interactive\") {\n        setTimeout(fn, 1);\n    } else {\n        document.addEventListener(\"DOMContentLoaded\", fn);\n    }\n}\n\n// dom loaded\ndocReady(() => {\n    // loading manager\n    let loading = new Loading();\n    let manager = new THREE.LoadingManager();\n    manager.onLoad = () => {\n        console.log('Loading complete!');\n    };\n\n    manager.onProgress = (url, itemsLoaded, itemsTotal) => {\n        loading.init(itemsLoaded * (100 / itemsTotal))\n    };\n\n    manager.onError = () => {\n        console.log('There was an error');\n    };\n\n    const renderer = new Renderer().init(THREE);\n    const scene = new Scene().init(THREE);\n    const camera = new Camera().init(THREE);\n    // const controls = new Controls().init(OrbitControls, camera, renderer);\n    const controls = null;\n    const sparkles = new Sparkles();\n    const pointsLine = new PointsLine().init(THREE);\n    const cameraPathLine = new CameraPathLine().init(THREE, scene, pointsLine);\n    const houseLights = new HouseLights().init(THREE, scene);\n\n    // new RandomBoxes().init(THREE, scene, pointsLine);\n    // new StartEndSphere().init(THREE, scene);\n    new MainModelLoad(manager).init(THREE, scene);\n\n    new MainLight().init(THREE, scene);\n    new Floor().init(THREE, scene);\n\n    new Animation().init(THREE, controls, renderer, scene, camera, pointsLine, manager);\n\n\n    const globalSparkleContainer = new THREE.Object3D();\n    globalSparkleContainer.position.x = 1;\n    globalSparkleContainer.position.y = 0.06;\n    globalSparkleContainer.position.z = 0;\n    // sparkles.init(THREE, globalSparkleContainer, 3.5, 3.5, 45);\n    // scene.add(globalSparkleContainer);\n});\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}